var Yt=Object.defineProperty;var Jt=(Qe,Ye,qt)=>Ye in Qe?Yt(Qe,Ye,{enumerable:!0,configurable:!0,writable:!0,value:qt}):Qe[Ye]=qt;var fe=(Qe,Ye,qt)=>Jt(Qe,typeof Ye!="symbol"?Ye+"":Ye,qt);import{c as zt,g as en}from"./_commonjsHelpers-BosuxZz1.js";var Ct={exports:{}};/*! For license information please see quill.js.LICENSE.txt */Ct.exports;var Xt;function tn(){return Xt||(Xt=1,function(Qe,Ye){(function(qt,Rt){Qe.exports=Rt()})(self,function(){return function(){var qt={9698:function(G,C,t){t.d(C,{Ay:function(){return k},Ji:function(){return O},mG:function(){return v},zo:function(){return a}});var d=t(6003),q=t(5232),S=t.n(q),A=t(3036),M=t(4850),f=t(5508);class k extends d.BlockBlot{constructor(){super(...arguments);fe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=v(this)),this.cache.delta}deleteAt(L,_){super.deleteAt(L,_),this.cache={}}formatAt(L,_,z,J){_<=0||(this.scroll.query(z,d.Scope.BLOCK)?L+_===this.length()&&this.format(z,J):super.formatAt(L,Math.min(_,this.length()-L-1),z,J),this.cache={})}insertAt(L,_,z){if(z!=null)return super.insertAt(L,_,z),void(this.cache={});if(_.length===0)return;const J=_.split(`
`),se=J.shift();se.length>0&&(L<this.length()-1||this.children.tail==null?super.insertAt(Math.min(L,this.length()-1),se):this.children.tail.insertAt(this.children.tail.length(),se),this.cache={});let K=this;J.reduce((p,j)=>(K=K.split(p,!0),K.insertAt(0,j),j.length),L+se.length)}insertBefore(L,_){const{head:z}=this.children;super.insertBefore(L,_),z instanceof A.A&&z.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(L,_){super.moveChildren(L,_),this.cache={}}optimize(L){super.optimize(L),this.cache={}}path(L){return super.path(L,!0)}removeChild(L){super.removeChild(L),this.cache={}}split(L){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(_&&(L===0||L>=this.length()-1)){const J=this.clone();return L===0?(this.parent.insertBefore(J,this),this):(this.parent.insertBefore(J,this.next),J)}const z=super.split(L,_);return this.cache={},z}}k.blotName="block",k.tagName="P",k.defaultChild=A.A,k.allowedChildren=[A.A,M.A,d.EmbedBlot,f.A];class a extends d.EmbedBlot{attach(){super.attach(),this.attributes=new d.AttributorStore(this.domNode)}delta(){return new(S())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(w,L){const _=this.scroll.query(w,d.Scope.BLOCK_ATTRIBUTE);_!=null&&this.attributes.attribute(_,L)}formatAt(w,L,_,z){this.format(_,z)}insertAt(w,L,_){if(_!=null)return void super.insertAt(w,L,_);const z=L.split(`
`),J=z.pop(),se=z.map(p=>{const j=this.scroll.create(k.blotName);return j.insertAt(0,p),j}),K=this.split(w);se.forEach(p=>{this.parent.insertBefore(p,K)}),J&&this.parent.insertBefore(this.scroll.create("text",J),K)}}function v(h){let w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return h.descendants(d.LeafBlot).reduce((L,_)=>_.length()===0?L:L.insert(_.value(),O(_,{},w)),new(S())).insert(`
`,O(h))}function O(h){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return h==null?w:("formats"in h&&typeof h.formats=="function"&&(w={...w,...h.formats()},L&&delete w["code-token"]),h.parent==null||h.parent.statics.blotName==="scroll"||h.parent.statics.scope!==h.statics.scope?w:O(h.parent,w,L))}a.scope=d.Scope.BLOCK_BLOT},3036:function(G,C,t){var d=t(6003);class q extends d.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}q.blotName="break",q.tagName="BR",C.A=q},580:function(G,C,t){var d=t(6003);class q extends d.ContainerBlot{}C.A=q},4541:function(G,C,t){var d=t(6003),q=t(5508);const A=class A extends d.EmbedBlot{static value(){}constructor(f,k,a){super(f,k),this.selection=a,this.textNode=document.createTextNode(A.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(f,k){if(this.savedLength!==0)return void super.format(f,k);let a=this,v=0;for(;a!=null&&a.statics.scope!==d.Scope.BLOCK_BLOT;)v+=a.offset(a.parent),a=a.parent;a!=null&&(this.savedLength=A.CONTENTS.length,a.optimize(),a.formatAt(v,A.CONTENTS.length,f,k),this.savedLength=0)}index(f,k){return f===this.textNode?0:super.index(f,k)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const f=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const k=this.prev instanceof q.A?this.prev:null,a=k?k.length():0,v=this.next instanceof q.A?this.next:null,O=v?v.text:"",{textNode:h}=this,w=h.data.split(A.CONTENTS).join("");let L;if(h.data=A.CONTENTS,k)L=k,(w||v)&&(k.insertAt(k.length(),w+O),v&&v.remove());else if(v)L=v,v.insertAt(0,w);else{const _=document.createTextNode(w);L=this.scroll.create(_),this.parent.insertBefore(L,this)}if(this.remove(),f){const _=(se,K)=>k&&se===k.domNode?K:se===h?a+K-1:v&&se===v.domNode?a+w.length+K:null,z=_(f.start.node,f.start.offset),J=_(f.end.node,f.end.offset);if(z!==null&&J!==null)return{startNode:L.domNode,startOffset:z,endNode:L.domNode,endOffset:J}}return null}update(f,k){if(f.some(a=>a.type==="characterData"&&a.target===this.textNode)){const a=this.restore();a&&(k.range=a)}}optimize(f){super.optimize(f);let{parent:k}=this;for(;k;){if(k.domNode.tagName==="A"){this.savedLength=A.CONTENTS.length,k.isolate(this.offset(k),this.length()).unwrap(),this.savedLength=0;break}k=k.parent}}value(){return""}};fe(A,"blotName","cursor"),fe(A,"className","ql-cursor"),fe(A,"tagName","span"),fe(A,"CONTENTS","\uFEFF");let S=A;C.A=S},746:function(G,C,t){var d=t(6003),q=t(5508);const S="\uFEFF";class A extends d.EmbedBlot{constructor(f,k){super(f,k),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode(S),this.rightGuard=document.createTextNode(S),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(f,k){return f===this.leftGuard?0:f===this.rightGuard?1:super.index(f,k)}restore(f){let k,a=null;const v=f.data.split(S).join("");if(f===this.leftGuard)if(this.prev instanceof q.A){const O=this.prev.length();this.prev.insertAt(O,v),a={startNode:this.prev.domNode,startOffset:O+v.length}}else k=document.createTextNode(v),this.parent.insertBefore(this.scroll.create(k),this),a={startNode:k,startOffset:v.length};else f===this.rightGuard&&(this.next instanceof q.A?(this.next.insertAt(0,v),a={startNode:this.next.domNode,startOffset:v.length}):(k=document.createTextNode(v),this.parent.insertBefore(this.scroll.create(k),this.next),a={startNode:k,startOffset:v.length}));return f.data=S,a}update(f,k){f.forEach(a=>{if(a.type==="characterData"&&(a.target===this.leftGuard||a.target===this.rightGuard)){const v=this.restore(a.target);v&&(k.range=v)}})}}C.A=A},4850:function(G,C,t){var d=t(6003),q=t(3036),S=t(5508);const M=class M extends d.InlineBlot{static compare(k,a){const v=M.order.indexOf(k),O=M.order.indexOf(a);return v>=0||O>=0?v-O:k===a?0:k<a?-1:1}formatAt(k,a,v,O){if(M.compare(this.statics.blotName,v)<0&&this.scroll.query(v,d.Scope.BLOT)){const h=this.isolate(k,a);O&&h.wrap(v,O)}else super.formatAt(k,a,v,O)}optimize(k){if(super.optimize(k),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){const a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}};fe(M,"allowedChildren",[M,q.A,d.EmbedBlot,S.A]),fe(M,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let A=M;C.A=A},5508:function(G,C,t){t.d(C,{A:function(){return q},X:function(){return A}});var d=t(6003);class q extends d.TextBlot{}const S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function A(M){return M.replace(/[&<>"']/g,f=>S[f])}},3729:function(G,C,t){t.d(C,{default:function(){return e}});var d=t(6142),q=t(9698),S=t(3036),A=t(580),M=t(4541),f=t(746),k=t(4850),a=t(6003),v=t(5232),O=t.n(v),h=t(5374);function w(n){return n instanceof q.Ay||n instanceof q.zo}function L(n){return typeof n.updateContent=="function"}class _ extends a.ScrollBlot{constructor(s,x,l){let{emitter:u}=l;super(s,x),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",N=>this.handleDragStart(N))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const s=this.batch;this.batch=!1,this.update(s)}emitMount(s){this.emitter.emit(h.A.events.SCROLL_BLOT_MOUNT,s)}emitUnmount(s){this.emitter.emit(h.A.events.SCROLL_BLOT_UNMOUNT,s)}emitEmbedUpdate(s,x){this.emitter.emit(h.A.events.SCROLL_EMBED_UPDATE,s,x)}deleteAt(s,x){const[l,u]=this.line(s),[N]=this.line(s+x);if(super.deleteAt(s,x),N!=null&&l!==N&&u>0){if(l instanceof q.zo||N instanceof q.zo)return void this.optimize();const T=N.children.head instanceof S.A?null:N.children.head;l.moveChildren(N,T),l.remove()}this.optimize()}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",s?"true":"false")}formatAt(s,x,l,u){super.formatAt(s,x,l,u),this.optimize()}insertAt(s,x,l){if(s>=this.length())if(l==null||this.scroll.query(x,a.Scope.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),l==null&&x.endsWith(`
`)?u.insertAt(0,x.slice(0,-1),l):u.insertAt(0,x,l)}else{const u=this.scroll.create(x,l);this.appendChild(u)}else super.insertAt(s,x,l);this.optimize()}insertBefore(s,x){if(s.statics.scope===a.Scope.INLINE_BLOT){const l=this.scroll.create(this.statics.defaultChild.blotName);l.appendChild(s),super.insertBefore(l,x)}else super.insertBefore(s,x)}insertContents(s,x){const l=this.deltaToRenderBlocks(x.concat(new(O())().insert(`
`))),u=l.pop();if(u==null)return;this.batchStart();const N=l.shift();if(N){const m=N.type==="block"&&(N.delta.length()===0||!this.descendant(q.zo,s)[0]&&s<this.length()),r=N.type==="block"?N.delta:new(O())().insert({[N.key]:N.value});z(this,s,r);const o=N.type==="block"?1:0,E=s+r.length()+o;m&&this.insertAt(E-1,`
`);const b=(0,q.Ji)(this.line(s)[0]),R=v.AttributeMap.diff(b,N.attributes)||{};Object.keys(R).forEach(F=>{this.formatAt(E-1,1,F,R[F])}),s=E}let[T,U]=this.children.find(s);l.length&&(T&&(T=T.split(U),U=0),l.forEach(m=>{if(m.type==="block")z(this.createBlock(m.attributes,T||void 0),0,m.delta);else{const r=this.create(m.key,m.value);this.insertBefore(r,T||void 0),Object.keys(m.attributes).forEach(o=>{r.format(o,m.attributes[o])})}})),u.type==="block"&&u.delta.length()&&z(this,T?T.offset(T.scroll)+U:this.length(),u.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(s){const x=this.path(s).pop();if(!x)return[null,-1];const[l,u]=x;return l instanceof a.LeafBlot?[l,u]:[null,-1]}line(s){return s===this.length()?this.line(s-1):this.descendant(w,s)}lines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const l=(u,N,T)=>{let U=[],m=T;return u.children.forEachAt(N,T,(r,o,E)=>{w(r)?U.push(r):r instanceof a.ContainerBlot&&(U=U.concat(l(r,o,m))),m-=E}),U};return l(this,s,x)}optimize(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(s,x),s.length>0&&this.emitter.emit(h.A.events.SCROLL_OPTIMIZE,s,x))}path(s){return super.path(s).slice(1)}remove(){}update(s){if(this.batch)return void(Array.isArray(s)&&(this.batch=this.batch.concat(s)));let x=h.A.sources.USER;typeof s=="string"&&(x=s),Array.isArray(s)||(s=this.observer.takeRecords()),(s=s.filter(l=>{let{target:u}=l;const N=this.find(u,!0);return N&&!L(N)})).length>0&&this.emitter.emit(h.A.events.SCROLL_BEFORE_UPDATE,x,s),super.update(s.concat([])),s.length>0&&this.emitter.emit(h.A.events.SCROLL_UPDATE,x,s)}updateEmbedAt(s,x,l){const[u]=this.descendant(N=>N instanceof q.zo,s);u&&u.statics.blotName===x&&L(u)&&u.updateContent(l)}handleDragStart(s){s.preventDefault()}deltaToRenderBlocks(s){const x=[];let l=new(O());return s.forEach(u=>{const N=u==null?void 0:u.insert;if(N)if(typeof N=="string"){const T=N.split(`
`);T.slice(0,-1).forEach(m=>{l.insert(m,u.attributes),x.push({type:"block",delta:l,attributes:u.attributes??{}}),l=new(O())});const U=T[T.length-1];U&&l.insert(U,u.attributes)}else{const T=Object.keys(N)[0];if(!T)return;this.query(T,a.Scope.INLINE)?l.push(u):(l.length()&&x.push({type:"block",delta:l,attributes:{}}),l=new(O()),x.push({type:"blockEmbed",key:T,value:N[T],attributes:u.attributes??{}}))}}),l.length()&&x.push({type:"block",delta:l,attributes:{}}),x}createBlock(s,x){let l;const u={};Object.entries(s).forEach(U=>{let[m,r]=U;this.query(m,a.Scope.BLOCK&a.Scope.BLOT)!=null?l=m:u[m]=r});const N=this.create(l||this.statics.defaultChild.blotName,l?s[l]:void 0);this.insertBefore(N,x||void 0);const T=N.length();return Object.entries(u).forEach(U=>{let[m,r]=U;N.formatAt(0,T,m,r)}),N}}fe(_,"blotName","scroll"),fe(_,"className","ql-editor"),fe(_,"tagName","DIV"),fe(_,"defaultChild",q.Ay),fe(_,"allowedChildren",[q.Ay,q.zo,A.A]);function z(n,s,x){x.reduce((l,u)=>{const N=v.Op.length(u);let T=u.attributes||{};if(u.insert!=null){if(typeof u.insert=="string"){const U=u.insert;n.insertAt(l,U);const[m]=n.descendant(a.LeafBlot,l),r=(0,q.Ji)(m);T=v.AttributeMap.diff(r,T)||{}}else if(typeof u.insert=="object"){const U=Object.keys(u.insert)[0];if(U==null)return l;if(n.insertAt(l,U,u.insert[U]),n.scroll.query(U,a.Scope.INLINE)!=null){const[m]=n.descendant(a.LeafBlot,l),r=(0,q.Ji)(m);T=v.AttributeMap.diff(r,T)||{}}}}return Object.keys(T).forEach(U=>{n.formatAt(l,N,U,T[U])}),l+N},s)}var J=_,se=t(5508),K=t(584),p=t(4266);class j extends p.A{constructor(x,l){super(x,l);fe(this,"lastRecorded",0);fe(this,"ignoreChange",!1);fe(this,"stack",{undo:[],redo:[]});fe(this,"currentRange",null);this.quill.on(d.Ay.events.EDITOR_CHANGE,(u,N,T,U)=>{u===d.Ay.events.SELECTION_CHANGE?N&&U!==d.Ay.sources.SILENT&&(this.currentRange=N):u===d.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&U!==d.Ay.sources.USER?this.transform(N):this.record(N,T)),this.currentRange=B(this.currentRange,N))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",u=>{u.inputType==="historyUndo"?(this.undo(),u.preventDefault()):u.inputType==="historyRedo"&&(this.redo(),u.preventDefault())})}change(x,l){if(this.stack[x].length===0)return;const u=this.stack[x].pop();if(!u)return;const N=this.quill.getContents(),T=u.delta.invert(N);this.stack[l].push({delta:T,range:B(u.range,T)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(u.delta,d.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(u)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(x,l){if(x.ops.length===0)return;this.stack.redo=[];let u=x.invert(l),N=this.currentRange;const T=Date.now();if(this.lastRecorded+this.options.delay>T&&this.stack.undo.length>0){const U=this.stack.undo.pop();U&&(u=u.compose(U.delta),N=U.range)}else this.lastRecorded=T;u.length()!==0&&(this.stack.undo.push({delta:u,range:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(x){W(this.stack.undo,x),W(this.stack.redo,x)}undo(){this.change("undo","redo")}restoreSelection(x){if(x.range)this.quill.setSelection(x.range,d.Ay.sources.USER);else{const l=function(u,N){const T=N.reduce((m,r)=>m+(r.delete||0),0);let U=N.length()-T;return function(m,r){const o=r.ops[r.ops.length-1];return o!=null&&(o.insert!=null?typeof o.insert=="string"&&o.insert.endsWith(`
`):o.attributes!=null&&Object.keys(o.attributes).some(E=>m.query(E,a.Scope.BLOCK)!=null))}(u,N)&&(U-=1),U}(this.quill.scroll,x.delta);this.quill.setSelection(l,d.Ay.sources.USER)}}}fe(j,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function W(n,s){let x=s;for(let l=n.length-1;l>=0;l-=1){const u=n[l];n[l]={delta:x.transform(u.delta,!0),range:u.range&&B(u.range,x)},x=u.delta.transform(x),n[l].delta.length()===0&&n.splice(l,1)}}function B(n,s){if(!n)return n;const x=s.transformPosition(n.index);return{index:x,length:s.transformPosition(n.index+n.length)-x}}var Z=t(8123);class ie extends p.A{constructor(s,x){super(s,x),s.root.addEventListener("drop",l=>{var T;l.preventDefault();let u=null;if(document.caretRangeFromPoint)u=document.caretRangeFromPoint(l.clientX,l.clientY);else if(document.caretPositionFromPoint){const U=document.caretPositionFromPoint(l.clientX,l.clientY);u=document.createRange(),u.setStart(U.offsetNode,U.offset),u.setEnd(U.offsetNode,U.offset)}const N=u&&s.selection.normalizeNative(u);if(N){const U=s.selection.normalizedToRange(N);(T=l.dataTransfer)!=null&&T.files&&this.upload(U,l.dataTransfer.files)}})}upload(s,x){const l=[];Array.from(x).forEach(u=>{var N;u&&((N=this.options.mimetypes)!=null&&N.includes(u.type))&&l.push(u)}),l.length>0&&this.options.handler.call(this,s,l)}}ie.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,s){if(!this.quill.scroll.query("image"))return;const x=s.map(l=>new Promise(u=>{const N=new FileReader;N.onload=()=>{u(N.result)},N.readAsDataURL(l)}));Promise.all(x).then(l=>{const u=l.reduce((N,T)=>N.insert({image:T}),new(O())().retain(n.index).delete(n.length));this.quill.updateContents(u,h.A.sources.USER),this.quill.setSelection(n.index+l.length,h.A.sources.SILENT)})}};var oe=ie;const he=["insertText","insertReplacementText"];class ge extends p.A{constructor(s,x){super(s,x),s.root.addEventListener("beforeinput",l=>{this.handleBeforeInput(l)}),/Android/i.test(navigator.userAgent)||s.on(d.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(s){(0,Z.Xo)({range:s,quill:this.quill})}replaceText(s){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(s.length===0)return!1;if(x){const l=this.quill.getFormat(s.index,1);this.deleteRange(s),this.quill.updateContents(new(O())().retain(s.index).insert(x,l),d.Ay.sources.USER)}else this.deleteRange(s);return this.quill.setSelection(s.index+x.length,0,d.Ay.sources.SILENT),!0}handleBeforeInput(s){if(this.quill.composition.isComposing||s.defaultPrevented||!he.includes(s.inputType))return;const x=s.getTargetRanges?s.getTargetRanges()[0]:null;if(!x||x.collapsed===!0)return;const l=function(T){var U;return typeof T.data=="string"?T.data:(U=T.dataTransfer)!=null&&U.types.includes("text/plain")?T.dataTransfer.getData("text/plain"):null}(s);if(l==null)return;const u=this.quill.selection.normalizeNative(x),N=u?this.quill.selection.normalizedToRange(u):null;N&&this.replaceText(N,l)&&s.preventDefault()}handleCompositionStart(){const s=this.quill.getSelection();s&&this.replaceText(s)}}var ee=ge;const X=/Mac/i.test(navigator.platform);class le extends p.A{constructor(x,l){super(x,l);fe(this,"isListening",!1);fe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(x,l){let{line:u,event:N}=l;if(!(u instanceof a.ParentBlot&&u.uiNode))return!0;const T=getComputedStyle(u.domNode).direction==="rtl";return!!(T&&N.key!=="ArrowRight"||!T&&N.key!=="ArrowLeft")||(this.quill.setSelection(x.index-1,x.length+(N.shiftKey?1:0),d.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",x=>{!x.defaultPrevented&&(l=>l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="ArrowUp"||l.key==="ArrowDown"||l.key==="Home"||!(!X||l.key!=="a"||l.ctrlKey!==!0))(x)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const x=document.getSelection();if(!x)return;const l=x.getRangeAt(0);if(l.collapsed!==!0||l.startOffset!==0)return;const u=this.quill.scroll.find(l.startContainer);if(!(u instanceof a.ParentBlot&&u.uiNode))return;const N=document.createRange();N.setStartAfter(u.uiNode),N.setEndAfter(u.uiNode),x.removeAllRanges(),x.addRange(N)}}var y=le;d.Ay.register({"blots/block":q.Ay,"blots/block/embed":q.zo,"blots/break":S.A,"blots/container":A.A,"blots/cursor":M.A,"blots/embed":f.A,"blots/inline":k.A,"blots/scroll":J,"blots/text":se.A,"modules/clipboard":K.Ay,"modules/history":j,"modules/keyboard":Z.Ay,"modules/uploader":oe,"modules/input":ee,"modules/uiNode":y});var e=d.Ay},5374:function(G,C,t){var M;t.d(C,{A:function(){return A}});var d=t(8920),q=t(7356);const S=(0,t(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(f=>{document.addEventListener(f,function(){for(var k=arguments.length,a=new Array(k),v=0;v<k;v++)a[v]=arguments[v];Array.from(document.querySelectorAll(".ql-container")).forEach(O=>{const h=q.A.get(O);h&&h.emitter&&h.emitter.handleDOM(...a)})})});var A=(M=class extends d{constructor(){super(),this.domListeners={},this.on("error",S.error)}emit(){for(var f=arguments.length,k=new Array(f),a=0;a<f;a++)k[a]=arguments[a];return S.log.call(S,...k),super.emit(...k)}handleDOM(f){for(var k=arguments.length,a=new Array(k>1?k-1:0),v=1;v<k;v++)a[v-1]=arguments[v];(this.domListeners[f.type]||[]).forEach(O=>{let{node:h,handler:w}=O;(f.target===h||h.contains(f.target))&&w(f,...a)})}listenDOM(f,k,a){this.domListeners[f]||(this.domListeners[f]=[]),this.domListeners[f].push({node:k,handler:a})}},fe(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),fe(M,"sources",{API:"api",SILENT:"silent",USER:"user"}),M)},7356:function(G,C){C.A=new WeakMap},6078:function(G,C){const t=["error","warn","log","info"];let d="warn";function q(A){if(d&&t.indexOf(A)<=t.indexOf(d)){for(var M=arguments.length,f=new Array(M>1?M-1:0),k=1;k<M;k++)f[k-1]=arguments[k];console[A](...f)}}function S(A){return t.reduce((M,f)=>(M[f]=q.bind(console,f,A),M),{})}S.level=A=>{d=A},q.level=S.level,C.A=S},4266:function(G,C){var t;C.A=(t=class{constructor(d){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=d,this.options=q}},fe(t,"DEFAULTS",{}),t)},6142:function(G,C,t){t.d(C,{Ay:function(){return n}});var d=t(8347),q=t(6003),S=t(5232),A=t.n(S),M=t(3707),f=t(5123),k=t(9698),a=t(3036),v=t(4541),O=t(5508),h=t(8298);const w=/^[ -~]*$/;function L(m,r,o){if(m.length===0){const[de]=J(o.pop());return r<=0?`</li></${de}>`:`</li></${de}>${L([],r-1,o)}`}const[{child:E,offset:b,length:R,indent:F,type:H},...te]=m,[Q,ne]=J(H);if(F>r)return o.push(H),F===r+1?`<${Q}><li${ne}>${_(E,b,R)}${L(te,F,o)}`:`<${Q}><li>${L(m,r+1,o)}`;const ae=o[o.length-1];if(F===r&&H===ae)return`</li><li${ne}>${_(E,b,R)}${L(te,F,o)}`;const[ue]=J(o.pop());return`</li></${ue}>${L(m,r-1,o)}`}function _(m,r,o){let E=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in m&&typeof m.html=="function")return m.html(r,o);if(m instanceof O.A)return(0,O.X)(m.value().slice(r,r+o)).replaceAll(" ","&nbsp;");if(m instanceof q.ParentBlot){if(m.statics.blotName==="list-container"){const Q=[];return m.children.forEachAt(r,o,(ne,ae,ue)=>{const de="formats"in ne&&typeof ne.formats=="function"?ne.formats():{};Q.push({child:ne,offset:ae,length:ue,indent:de.indent||0,type:de.list})}),L(Q,-1,[])}const b=[];if(m.children.forEachAt(r,o,(Q,ne,ae)=>{b.push(_(Q,ne,ae))}),E||m.statics.blotName==="list")return b.join("");const{outerHTML:R,innerHTML:F}=m.domNode,[H,te]=R.split(`>${F}<`);return H==="<table"?`<table style="border: 1px solid #000;">${b.join("")}<${te}`:`${H}>${b.join("")}<${te}`}return m.domNode instanceof Element?m.domNode.outerHTML:""}function z(m,r){return Object.keys(r).reduce((o,E)=>{if(m[E]==null)return o;const b=r[E];return b===m[E]?o[E]=b:Array.isArray(b)?b.indexOf(m[E])<0?o[E]=b.concat([m[E]]):o[E]=b:o[E]=[b,m[E]],o},{})}function J(m){const r=m==="ordered"?"ol":"ul";switch(m){case"checked":return[r,' data-list="checked"'];case"unchecked":return[r,' data-list="unchecked"'];default:return[r,""]}}function se(m){return m.reduce((r,o)=>{if(typeof o.insert=="string"){const E=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return r.insert(E,o.attributes)}return r.push(o)},new(A()))}function K(m,r){let{index:o,length:E}=m;return new h.Q(o+r,E)}var p=class{constructor(m){this.scroll=m,this.delta=this.getDelta()}applyDelta(m){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const o=se(m),E=new(A());return function(b){const R=[];return b.forEach(F=>{typeof F.insert=="string"?F.insert.split(`
`).forEach((H,te)=>{te&&R.push({insert:`
`,attributes:F.attributes}),H&&R.push({insert:H,attributes:F.attributes})}):R.push(F)}),R}(o.ops.slice()).reduce((b,R)=>{const F=S.Op.length(R);let H=R.attributes||{},te=!1,Q=!1;if(R.insert!=null){if(E.retain(F),typeof R.insert=="string"){const ue=R.insert;Q=!ue.endsWith(`
`)&&(r<=b||!!this.scroll.descendant(k.zo,b)[0]),this.scroll.insertAt(b,ue);const[de,pe]=this.scroll.line(b);let xe=(0,d.A)({},(0,k.Ji)(de));if(de instanceof k.Ay){const[Se]=de.descendant(q.LeafBlot,pe);Se&&(xe=(0,d.A)(xe,(0,k.Ji)(Se)))}H=S.AttributeMap.diff(xe,H)||{}}else if(typeof R.insert=="object"){const ue=Object.keys(R.insert)[0];if(ue==null)return b;const de=this.scroll.query(ue,q.Scope.INLINE)!=null;if(de)(r<=b||this.scroll.descendant(k.zo,b)[0])&&(Q=!0);else if(b>0){const[pe,xe]=this.scroll.descendant(q.LeafBlot,b-1);pe instanceof O.A?pe.value()[xe]!==`
`&&(te=!0):pe instanceof q.EmbedBlot&&pe.statics.scope===q.Scope.INLINE_BLOT&&(te=!0)}if(this.scroll.insertAt(b,ue,R.insert[ue]),de){const[pe]=this.scroll.descendant(q.LeafBlot,b);if(pe){const xe=(0,d.A)({},(0,k.Ji)(pe));H=S.AttributeMap.diff(xe,H)||{}}}}r+=F}else if(E.push(R),R.retain!==null&&typeof R.retain=="object"){const ue=Object.keys(R.retain)[0];if(ue==null)return b;this.scroll.updateEmbedAt(b,ue,R.retain[ue])}Object.keys(H).forEach(ue=>{this.scroll.formatAt(b,F,ue,H[ue])});const ne=te?1:0,ae=Q?1:0;return r+=ne+ae,E.retain(ne),E.delete(ae),b+F+ne+ae},0),E.reduce((b,R)=>typeof R.delete=="number"?(this.scroll.deleteAt(b,R.delete),b):b+S.Op.length(R),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(m,r){return this.scroll.deleteAt(m,r),this.update(new(A())().retain(m).delete(r))}formatLine(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(b=>{this.scroll.lines(m,Math.max(r,1)).forEach(R=>{R.format(b,o[b])})}),this.scroll.optimize();const E=new(A())().retain(m).retain(r,(0,M.A)(o));return this.update(E)}formatText(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(b=>{this.scroll.formatAt(m,r,b,o[b])});const E=new(A())().retain(m).retain(r,(0,M.A)(o));return this.update(E)}getContents(m,r){return this.delta.slice(m,m+r)}getDelta(){return this.scroll.lines().reduce((m,r)=>m.concat(r.delta()),new(A()))}getFormat(m){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],E=[];r===0?this.scroll.path(m).forEach(F=>{const[H]=F;H instanceof k.Ay?o.push(H):H instanceof q.LeafBlot&&E.push(H)}):(o=this.scroll.lines(m,r),E=this.scroll.descendants(q.LeafBlot,m,r));const[b,R]=[o,E].map(F=>{const H=F.shift();if(H==null)return{};let te=(0,k.Ji)(H);for(;Object.keys(te).length>0;){const Q=F.shift();if(Q==null)return te;te=z((0,k.Ji)(Q),te)}return te});return{...b,...R}}getHTML(m,r){const[o,E]=this.scroll.line(m);if(o){const b=o.length();return o.length()>=E+r&&(E!==0||r!==b)?_(o,E,r,!0):_(this.scroll,m,r,!0)}return""}getText(m,r){return this.getContents(m,r).filter(o=>typeof o.insert=="string").map(o=>o.insert).join("")}insertContents(m,r){const o=se(r),E=new(A())().retain(m).concat(o);return this.scroll.insertContents(m,o),this.update(E)}insertEmbed(m,r,o){return this.scroll.insertAt(m,r,o),this.update(new(A())().retain(m).insert({[r]:o}))}insertText(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(m,r),Object.keys(o).forEach(E=>{this.scroll.formatAt(m,r.length,E,o[E])}),this.update(new(A())().retain(m).insert(r,(0,M.A)(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const m=this.scroll.children.head;if((m==null?void 0:m.statics.blotName)!==k.Ay.blotName)return!1;const r=m;return!(r.children.length>1)&&r.children.head instanceof a.A}removeFormat(m,r){const o=this.getText(m,r),[E,b]=this.scroll.line(m+r);let R=0,F=new(A());E!=null&&(R=E.length()-b,F=E.delta().slice(b,b+R-1).insert(`
`));const H=this.getContents(m,r+R).diff(new(A())().insert(o).concat(F)),te=new(A())().retain(m).concat(H);return this.applyDelta(te)}update(m){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const E=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(w)&&this.scroll.find(r[0].target)){const b=this.scroll.find(r[0].target),R=(0,k.Ji)(b),F=b.offset(this.scroll),H=r[0].oldValue.replace(v.A.CONTENTS,""),te=new(A())().insert(H),Q=new(A())().insert(b.value()),ne=o&&{oldRange:K(o.oldRange,-F),newRange:K(o.newRange,-F)};m=new(A())().retain(F).concat(te.diff(Q,ne)).reduce((ae,ue)=>ue.insert?ae.insert(ue.insert,R):ae.push(ue),new(A())),this.delta=E.compose(m)}else this.delta=this.getDelta(),m&&(0,f.A)(E.compose(m),this.delta)||(m=E.diff(this.delta,o));return m}},j=t(5374),W=t(7356),B=t(6078),Z=t(4266),ie=t(746),oe=class{constructor(m,r){fe(this,"isComposing",!1);this.scroll=m,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",m=>{this.isComposing||this.handleCompositionStart(m)}),this.scroll.domNode.addEventListener("compositionend",m=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(m)})})}handleCompositionStart(m){const r=m.target instanceof Node?this.scroll.find(m.target,!0):null;!r||r instanceof ie.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,m),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,m),this.isComposing=!0)}handleCompositionEnd(m){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,m),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,m),this.isComposing=!1}},he=t(9609);const ge=m=>{const r=m.getBoundingClientRect(),o="offsetWidth"in m&&Math.abs(r.width)/m.offsetWidth||1,E="offsetHeight"in m&&Math.abs(r.height)/m.offsetHeight||1;return{top:r.top,right:r.left+m.clientWidth*o,bottom:r.top+m.clientHeight*E,left:r.left}},ee=m=>{const r=parseInt(m,10);return Number.isNaN(r)?0:r},X=(m,r,o,E,b,R)=>m<o&&r>E?0:m<o?-(o-m+b):r>E?r-m>E-o?m+b-o:r-E+R:0,le=["block","break","cursor","inline","scroll","text"],y=(0,B.A)("quill"),e=new q.Registry;q.ParentBlot.uiClass="ql-ui";const U=class U{static debug(r){r===!0&&(r="log"),B.A.level(r)}static find(r){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return W.A.get(r)||e.find(r,o)}static import(r){return this.imports[r]==null&&y.error(`Cannot import ${r}. Are you sure it was registered?`),this.imports[r]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const r=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),E="attrName"in r?r.attrName:r.blotName;typeof E=="string"?this.register(`formats/${E}`,r,o):Object.keys(r).forEach(b=>{this.register(b,r[b],o)})}else{const r=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],E=!!(!(arguments.length<=2)&&arguments[2]);this.imports[r]==null||E||y.warn(`Overwriting ${r} with`,o),this.imports[r]=o,(r.startsWith("blots/")||r.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&e.register(o),typeof o.register=="function"&&o.register(e)}}constructor(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(F,H){const te=s(F);if(!te)throw new Error("Invalid Quill container");const Q=!H.theme||H.theme===U.DEFAULTS.theme?he.A:U.import(`themes/${H.theme}`);if(!Q)throw new Error(`Invalid theme ${H.theme}. Did you register it?`);const{modules:ne,...ae}=U.DEFAULTS,{modules:ue,...de}=Q.DEFAULTS;let pe=x(H.modules);pe!=null&&pe.toolbar&&pe.toolbar.constructor!==Object&&(pe={...pe,toolbar:{container:pe.toolbar}});const xe=(0,d.A)({},x(ne),x(ue),pe),Se={...ae,...l(de),...l(H)};let je=H.registry;return je?H.formats&&y.warn('Ignoring "formats" option because "registry" is specified'):je=H.formats?((ve,Oe,Le)=>{const Ce=new q.Registry;return le.forEach(Ne=>{const ke=Oe.query(Ne);ke&&Ce.register(ke)}),ve.forEach(Ne=>{let ke=Oe.query(Ne);ke||Le.error(`Cannot register "${Ne}" specified in "formats" config. Are you sure it was registered?`);let Ie=0;for(;ke;)if(Ce.register(ke),ke="blotName"in ke?ke.requiredContainer??null:null,Ie+=1,Ie>100){Le.error(`Cycle detected in registering blot requiredContainer: "${Ne}"`);break}}),Ce})(H.formats,Se.registry,y):Se.registry,{...Se,registry:je,container:te,theme:Q,modules:Object.entries(xe).reduce((ve,Oe)=>{let[Le,Ce]=Oe;if(!Ce)return ve;const Ne=U.import(`modules/${Le}`);return Ne==null?(y.error(`Cannot load ${Le} module. Are you sure you registered it?`),ve):{...ve,[Le]:(0,d.A)({},Ne.DEFAULTS||{},Ce)}},{}),bounds:s(Se.bounds)}}(r,o),this.container=this.options.container,this.container==null)return void y.error("Invalid Quill container",r);this.options.debug&&U.debug(this.options.debug);const E=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",W.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const b=q.ScrollBlot.blotName,R=this.options.registry.query(b);if(!R||!("blotName"in R))throw new Error(`Cannot initialize Quill without "${b}" blot`);if(this.scroll=new R(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new p(this.scroll),this.selection=new h.A(this.scroll,this.emitter),this.composition=new oe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,F=>{F===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(j.A.events.SCROLL_UPDATE,(F,H)=>{const te=this.selection.lastRange,[Q]=this.selection.getRange(),ne=te&&Q?{oldRange:te,newRange:Q}:void 0;u.call(this,()=>this.editor.update(null,H,ne),F)}),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,(F,H)=>{const te=this.selection.lastRange,[Q]=this.selection.getRange(),ne=te&&Q?{oldRange:te,newRange:Q}:void 0;u.call(this,()=>{const ae=new(A())().retain(F.offset(this)).retain({[F.statics.blotName]:H});return this.editor.update(ae,[],ne)},U.sources.USER)}),E){const F=this.clipboard.convert({html:`${E}<p><br></p>`,text:`
`});this.setContents(F)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof r=="string"){const E=r;(r=document.createElement("div")).classList.add(E)}return this.container.insertBefore(r,o),r}blur(){this.selection.setRange(null)}deleteText(r,o,E){return[r,o,,E]=N(r,o,E),u.call(this,()=>this.editor.deleteText(r,o),E,r,-1*o)}disable(){this.enable(!1)}editReadOnly(r){this.allowReadOnlyEdits=!0;const o=r();return this.allowReadOnlyEdits=!1,o}enable(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(r),this.container.classList.toggle("ql-disabled",!r)}focus(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),r.preventScroll||this.scrollSelectionIntoView()}format(r,o){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return u.call(this,()=>{const b=this.getSelection(!0);let R=new(A());if(b==null)return R;if(this.scroll.query(r,q.Scope.BLOCK))R=this.editor.formatLine(b.index,b.length,{[r]:o});else{if(b.length===0)return this.selection.format(r,o),R;R=this.editor.formatText(b.index,b.length,{[r]:o})}return this.setSelection(b,j.A.sources.SILENT),R},E)}formatLine(r,o,E,b,R){let F;return[r,o,F,R]=N(r,o,E,b,R),u.call(this,()=>this.editor.formatLine(r,o,F),R,r,0)}formatText(r,o,E,b,R){let F;return[r,o,F,R]=N(r,o,E,b,R),u.call(this,()=>this.editor.formatText(r,o,F),R,r,0)}getBounds(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=null;if(E=typeof r=="number"?this.selection.getBounds(r,o):this.selection.getBounds(r.index,r.length),!E)return null;const b=this.container.getBoundingClientRect();return{bottom:E.bottom-b.top,height:E.height,left:E.left-b.left,right:E.right-b.left,top:E.top-b.top,width:E.width}}getContents(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-r;return[r,o]=N(r,o),this.editor.getContents(r,o)}getFormat(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof r=="number"?this.editor.getFormat(r,o):this.editor.getFormat(r.index,r.length)}getIndex(r){return r.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(r){return this.scroll.leaf(r)}getLine(r){return this.scroll.line(r)}getLines(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof r!="number"?this.scroll.lines(r.index,r.length):this.scroll.lines(r,o)}getModule(r){return this.theme.modules[r]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof r=="number"&&(o=o??this.getLength()-r),[r,o]=N(r,o),this.editor.getHTML(r,o)}getText(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof r=="number"&&(o=o??this.getLength()-r),[r,o]=N(r,o),this.editor.getText(r,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(r,o,E){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return u.call(this,()=>this.editor.insertEmbed(r,o,E),b,r)}insertText(r,o,E,b,R){let F;return[r,,F,R]=N(r,0,E,b,R),u.call(this,()=>this.editor.insertText(r,o,F),R,r,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(r,o,E){return[r,o,,E]=N(r,o,E),u.call(this,()=>this.editor.removeFormat(r,o),E,r)}scrollRectIntoView(r){((o,E)=>{var te,Q,ne;const b=o.ownerDocument;let R=E,F=o;for(;F;){const ae=F===b.body,ue=ae?{top:0,right:((te=window.visualViewport)==null?void 0:te.width)??b.documentElement.clientWidth,bottom:((Q=window.visualViewport)==null?void 0:Q.height)??b.documentElement.clientHeight,left:0}:ge(F),de=getComputedStyle(F),pe=X(R.left,R.right,ue.left,ue.right,ee(de.scrollPaddingLeft),ee(de.scrollPaddingRight)),xe=X(R.top,R.bottom,ue.top,ue.bottom,ee(de.scrollPaddingTop),ee(de.scrollPaddingBottom));if(pe||xe)if(ae)(ne=b.defaultView)==null||ne.scrollBy(pe,xe);else{const{scrollLeft:Se,scrollTop:je}=F;xe&&(F.scrollTop+=xe),pe&&(F.scrollLeft+=pe);const ve=F.scrollLeft-Se,Oe=F.scrollTop-je;R={left:R.left-ve,top:R.top-Oe,right:R.right-ve,bottom:R.bottom-Oe}}F=ae||de.position==="fixed"?null:(H=F).parentElement||H.getRootNode().host||null}var H})(this.root,r)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const r=this.selection.lastRange,o=r&&this.selection.getBounds(r.index,r.length);o&&this.scrollRectIntoView(o)}setContents(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>{r=new(A())(r);const E=this.getLength(),b=this.editor.deleteText(0,E),R=this.editor.insertContents(0,r),F=this.editor.deleteText(this.getLength()-1,1);return b.compose(R).compose(F)},o)}setSelection(r,o,E){r==null?this.selection.setRange(null,o||U.sources.API):([r,o,,E]=N(r,o,E),this.selection.setRange(new h.Q(Math.max(0,r),o),E),E!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const E=new(A())().insert(r);return this.setContents(E,o)}update(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const o=this.scroll.update(r);return this.selection.update(r),o}updateContents(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>(r=new(A())(r),this.editor.applyDelta(r)),o,!0)}};fe(U,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:e,theme:"default"}),fe(U,"events",j.A.events),fe(U,"sources",j.A.sources),fe(U,"version","2.0.3"),fe(U,"imports",{delta:A(),parchment:q,"core/module":Z.A,"core/theme":he.A});let n=U;function s(m){return typeof m=="string"?document.querySelector(m):m}function x(m){return Object.entries(m??{}).reduce((r,o)=>{let[E,b]=o;return{...r,[E]:b===!0?{}:b}},{})}function l(m){return Object.fromEntries(Object.entries(m).filter(r=>r[1]!==void 0))}function u(m,r,o,E){if(!this.isEnabled()&&r===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(A());let b=o==null?null:this.getSelection();const R=this.editor.delta,F=m();if(b!=null&&(o===!0&&(o=b.index),E==null?b=T(b,F,r):E!==0&&(b=T(b,o,E,r)),this.setSelection(b,j.A.sources.SILENT)),F.length()>0){const H=[j.A.events.TEXT_CHANGE,F,R,r];this.emitter.emit(j.A.events.EDITOR_CHANGE,...H),r!==j.A.sources.SILENT&&this.emitter.emit(...H)}return F}function N(m,r,o,E,b){let R={};return typeof m.index=="number"&&typeof m.length=="number"?typeof r!="number"?(b=E,E=o,o=r,r=m.length,m=m.index):(r=m.length,m=m.index):typeof r!="number"&&(b=E,E=o,o=r,r=0),typeof o=="object"?(R=o,b=E):typeof o=="string"&&(E!=null?R[o]=E:b=o),[m,r,R,b=b||j.A.sources.API]}function T(m,r,o,E){const b=typeof o=="number"?o:0;if(m==null)return null;let R,F;return r&&typeof r.transformPosition=="function"?[R,F]=[m.index,m.index+m.length].map(H=>r.transformPosition(H,E!==j.A.sources.USER)):[R,F]=[m.index,m.index+m.length].map(H=>H<r||H===r&&E===j.A.sources.USER?H:b>=0?H+b:Math.max(r,H+b)),new h.Q(R,F-R)}},8298:function(G,C,t){t.d(C,{Q:function(){return f}});var d=t(6003),q=t(5123),S=t(3707),A=t(5374);const M=(0,t(6078).A)("quill:selection");class f{constructor(v){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=v,this.length=O}}function k(a,v){try{v.parentNode}catch{return!1}return a.contains(v)}C.A=class{constructor(a,v){this.emitter=v,this.scroll=a,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new f(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,A.A.sources.USER),1)}),this.emitter.on(A.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const O=this.getNativeRange();O!=null&&O.start.node!==this.cursor.textNode&&this.emitter.once(A.A.events.SCROLL_UPDATE,(h,w)=>{try{this.root.contains(O.start.node)&&this.root.contains(O.end.node)&&this.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset);const L=w.some(_=>_.type==="characterData"||_.type==="childList"||_.type==="attributes"&&_.target===this.root);this.update(L?A.A.sources.SILENT:h)}catch{}})}),this.emitter.on(A.A.events.SCROLL_OPTIMIZE,(O,h)=>{if(h.range){const{startNode:w,startOffset:L,endNode:_,endOffset:z}=h.range;this.setNativeRange(w,L,_,z),this.update(A.A.sources.SILENT)}}),this.update(A.A.sources.SILENT)}handleComposition(){this.emitter.on(A.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(A.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const a=this.cursor.restore();if(!a)return;setTimeout(()=>{this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(A.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(a,v){this.scroll.update();const O=this.getNativeRange();if(O!=null&&O.native.collapsed&&!this.scroll.query(a,d.Scope.BLOCK)){if(O.start.node!==this.cursor.textNode){const h=this.scroll.find(O.start.node,!1);if(h==null)return;if(h instanceof d.LeafBlot){const w=h.split(O.start.offset);h.parent.insertBefore(this.cursor,w)}else h.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(a,v),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(a){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const O=this.scroll.length();let h;a=Math.min(a,O-1),v=Math.min(a+v,O-1)-a;let[w,L]=this.scroll.leaf(a);if(w==null)return null;if(v>0&&L===w.length()){const[se]=this.scroll.leaf(a+1);if(se){const[K]=this.scroll.line(a),[p]=this.scroll.line(a+1);K===p&&(w=se,L=0)}}[h,L]=w.position(L,!0);const _=document.createRange();if(v>0)return _.setStart(h,L),[w,L]=this.scroll.leaf(a+v),w==null?null:([h,L]=w.position(L,!0),_.setEnd(h,L),_.getBoundingClientRect());let z,J="left";if(h instanceof Text){if(!h.data.length)return null;L<h.data.length?(_.setStart(h,L),_.setEnd(h,L+1)):(_.setStart(h,L-1),_.setEnd(h,L),J="right"),z=_.getBoundingClientRect()}else{if(!(w.domNode instanceof Element))return null;z=w.domNode.getBoundingClientRect(),L>0&&(J="right")}return{bottom:z.top+z.height,height:z.height,left:z[J],right:z[J],top:z.top,width:0}}getNativeRange(){const a=document.getSelection();if(a==null||a.rangeCount<=0)return null;const v=a.getRangeAt(0);if(v==null)return null;const O=this.normalizeNative(v);return M.info("getNativeRange",O),O}getRange(){const a=this.scroll.domNode;if("isConnected"in a&&!a.isConnected)return[null,null];const v=this.getNativeRange();return v==null?[null,null]:[this.normalizedToRange(v),v]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&k(this.root,document.activeElement)}normalizedToRange(a){const v=[[a.start.node,a.start.offset]];a.native.collapsed||v.push([a.end.node,a.end.offset]);const O=v.map(L=>{const[_,z]=L,J=this.scroll.find(_,!0),se=J.offset(this.scroll);return z===0?se:J instanceof d.LeafBlot?se+J.index(_,z):se+J.length()}),h=Math.min(Math.max(...O),this.scroll.length()-1),w=Math.min(h,...O);return new f(w,h-w)}normalizeNative(a){if(!k(this.root,a.startContainer)||!a.collapsed&&!k(this.root,a.endContainer))return null;const v={start:{node:a.startContainer,offset:a.startOffset},end:{node:a.endContainer,offset:a.endOffset},native:a};return[v.start,v.end].forEach(O=>{let{node:h,offset:w}=O;for(;!(h instanceof Text)&&h.childNodes.length>0;)if(h.childNodes.length>w)h=h.childNodes[w],w=0;else{if(h.childNodes.length!==w)break;h=h.lastChild,w=h instanceof Text?h.data.length:h.childNodes.length>0?h.childNodes.length:h.childNodes.length+1}O.node=h,O.offset=w}),v}rangeToNative(a){const v=this.scroll.length(),O=(h,w)=>{h=Math.min(v-1,h);const[L,_]=this.scroll.leaf(h);return L?L.position(_,w):[null,-1]};return[...O(a.index,!1),...O(a.index+a.length,!0)]}setNativeRange(a,v){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v,w=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(M.info("setNativeRange",a,v,O,h),a!=null&&(this.root.parentNode==null||a.parentNode==null||O.parentNode==null))return;const L=document.getSelection();if(L!=null)if(a!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:_}=this.getNativeRange()||{};if(_==null||w||a!==_.startContainer||v!==_.startOffset||O!==_.endContainer||h!==_.endOffset){a instanceof Element&&a.tagName==="BR"&&(v=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode),O instanceof Element&&O.tagName==="BR"&&(h=Array.from(O.parentNode.childNodes).indexOf(O),O=O.parentNode);const z=document.createRange();z.setStart(a,v),z.setEnd(O,h),L.removeAllRanges(),L.addRange(z)}}else L.removeAllRanges(),this.root.blur()}setRange(a){let v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.A.sources.API;if(typeof v=="string"&&(O=v,v=!1),M.info("setRange",a),a!=null){const h=this.rangeToNative(a);this.setNativeRange(...h,v)}else this.setNativeRange(null);this.update(O)}update(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.A.sources.USER;const v=this.lastRange,[O,h]=this.getRange();if(this.lastRange=O,this.lastNative=h,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,q.A)(v,this.lastRange)){if(!this.composing&&h!=null&&h.native.collapsed&&h.start.node!==this.cursor.textNode){const L=this.cursor.restore();L&&this.setNativeRange(L.startNode,L.startOffset,L.endNode,L.endOffset)}const w=[A.A.events.SELECTION_CHANGE,(0,S.A)(this.lastRange),(0,S.A)(v),a];this.emitter.emit(A.A.events.EDITOR_CHANGE,...w),a!==A.A.sources.SILENT&&this.emitter.emit(...w)}}}},9609:function(G,C){const d=class d{constructor(S,A){fe(this,"modules",{});this.quill=S,this.options=A}init(){Object.keys(this.options.modules).forEach(S=>{this.modules[S]==null&&this.addModule(S)})}addModule(S){const A=this.quill.constructor.import(`modules/${S}`);return this.modules[S]=new A(this.quill,this.options.modules[S]||{}),this.modules[S]}};fe(d,"DEFAULTS",{modules:{}}),fe(d,"themes",{default:d});let t=d;C.A=t},8276:function(G,C,t){t.d(C,{Hu:function(){return M},gS:function(){return S},qh:function(){return A}});var d=t(6003);const q={scope:d.Scope.BLOCK,whitelist:["right","center","justify"]},S=new d.Attributor("align","align",q),A=new d.ClassAttributor("align","ql-align",q),M=new d.StyleAttributor("align","text-align",q)},9541:function(G,C,t){t.d(C,{l:function(){return S},s:function(){return A}});var d=t(6003),q=t(8638);const S=new d.ClassAttributor("background","ql-bg",{scope:d.Scope.INLINE}),A=new q.a2("background","background-color",{scope:d.Scope.INLINE})},9404:function(G,C,t){t.d(C,{Ay:function(){return v},Cy:function(){return O},EJ:function(){return a}});var d=t(9698),q=t(3036),S=t(4541),A=t(4850),M=t(5508),f=t(580),k=t(6142);class a extends f.A{static create(w){const L=super.create(w);return L.setAttribute("spellcheck","false"),L}code(w,L){return this.children.map(_=>_.length()<=1?"":_.domNode.innerText).join(`
`).slice(w,w+L)}html(w,L){return`<pre>
${(0,M.X)(this.code(w,L))}
</pre>`}}class v extends d.Ay{static register(){k.Ay.register(a)}}fe(v,"TAB","  ");class O extends A.A{}O.blotName="code",O.tagName="CODE",v.blotName="code-block",v.className="ql-code-block",v.tagName="DIV",a.blotName="code-block-container",a.className="ql-code-block-container",a.tagName="DIV",a.allowedChildren=[v],v.allowedChildren=[M.A,q.A,S.A],v.requiredContainer=a},8638:function(G,C,t){t.d(C,{JM:function(){return A},a2:function(){return q},g3:function(){return S}});var d=t(6003);class q extends d.StyleAttributor{value(f){let k=super.value(f);return k.startsWith("rgb(")?(k=k.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${k.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):k}}const S=new d.ClassAttributor("color","ql-color",{scope:d.Scope.INLINE}),A=new q("color","color",{scope:d.Scope.INLINE})},7912:function(G,C,t){t.d(C,{Mc:function(){return S},VL:function(){return M},sY:function(){return A}});var d=t(6003);const q={scope:d.Scope.BLOCK,whitelist:["rtl"]},S=new d.Attributor("direction","dir",q),A=new d.ClassAttributor("direction","ql-direction",q),M=new d.StyleAttributor("direction","direction",q)},6772:function(G,C,t){t.d(C,{q:function(){return S},z:function(){return M}});var d=t(6003);const q={scope:d.Scope.INLINE,whitelist:["serif","monospace"]},S=new d.ClassAttributor("font","ql-font",q);class A extends d.StyleAttributor{value(k){return super.value(k).replace(/["']/g,"")}}const M=new A("font","font-family",q)},664:function(G,C,t){t.d(C,{U:function(){return q},r:function(){return S}});var d=t(6003);const q=new d.ClassAttributor("size","ql-size",{scope:d.Scope.INLINE,whitelist:["small","large","huge"]}),S=new d.StyleAttributor("size","font-size",{scope:d.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(G,C,t){t.d(C,{Ay:function(){return ge},hV:function(){return n}});var d=t(6003),q=t(5232),S=t.n(q),A=t(9698),M=t(6078),f=t(4266),k=t(6142),a=t(8276),v=t(9541),O=t(9404),h=t(8638),w=t(7912),L=t(6772),_=t(664),z=t(8123);const J=/font-weight:\s*normal/,se=["P","OL","UL"],K=l=>l&&se.includes(l.tagName),p=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,W=/\bmso-list:[^;]*\blevel(\d+)/i,B=[function(l){l.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(u=>{var o,E;const N=Array.from(u.querySelectorAll("[style*=mso-list]")),T=[],U=[];N.forEach(b=>{(b.getAttribute("style")||"").match(p)?T.push(b):U.push(b)}),T.forEach(b=>{var R;return(R=b.parentNode)==null?void 0:R.removeChild(b)});const m=u.documentElement.innerHTML,r=U.map(b=>((R,F)=>{const H=R.getAttribute("style"),te=H==null?void 0:H.match(j);if(!te)return null;const Q=Number(te[1]),ne=H==null?void 0:H.match(W),ae=ne?Number(ne[1]):1,ue=new RegExp(`@list l${Q}:level${ae}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),de=F.match(ue);return{id:Q,indent:ae,type:de&&de[1]==="bullet"?"bullet":"ordered",element:R}})(b,m)).filter(b=>b);for(;r.length;){const b=[];let R=r.shift();for(;R;)b.push(R),R=r.length&&((o=r[0])==null?void 0:o.element)===R.element.nextElementSibling&&r[0].id===R.id?r.shift():null;const F=document.createElement("ul");b.forEach(Q=>{const ne=document.createElement("li");ne.setAttribute("data-list",Q.type),Q.indent>1&&ne.setAttribute("class","ql-indent-"+(Q.indent-1)),ne.innerHTML=Q.element.innerHTML,F.appendChild(ne)});const H=(E=b[0])==null?void 0:E.element,{parentNode:te}=H??{};H&&(te==null||te.replaceChild(F,H)),b.slice(1).forEach(Q=>{let{element:ne}=Q;te==null||te.removeChild(ne)})}})(l)},function(l){l.querySelector('[id^="docs-internal-guid-"]')&&((u=>{Array.from(u.querySelectorAll('b[style*="font-weight"]')).filter(N=>{var T;return(T=N.getAttribute("style"))==null?void 0:T.match(J)}).forEach(N=>{var U;const T=u.createDocumentFragment();T.append(...N.childNodes),(U=N.parentNode)==null||U.replaceChild(T,N)})})(l),(u=>{Array.from(u.querySelectorAll("br")).filter(N=>K(N.previousElementSibling)&&K(N.nextElementSibling)).forEach(N=>{var T;(T=N.parentNode)==null||T.removeChild(N)})})(l))}],Z=(0,M.A)("quill:clipboard"),ie=[[Node.TEXT_NODE,function(l,u,N){var U;let T=l.data;if(((U=l.parentElement)==null?void 0:U.tagName)==="O:P")return u.insert(T.trim());if(!e(l)){if(T.trim().length===0&&T.includes(`
`)&&!function(m,r){return m.previousElementSibling&&m.nextElementSibling&&!le(m.previousElementSibling,r)&&!le(m.nextElementSibling,r)}(l,N))return u;T=T.replace(/[^\S\u00a0]/g," "),T=T.replace(/ {2,}/g," "),(l.previousSibling==null&&l.parentElement!=null&&le(l.parentElement,N)||l.previousSibling instanceof Element&&le(l.previousSibling,N))&&(T=T.replace(/^ /,"")),(l.nextSibling==null&&l.parentElement!=null&&le(l.parentElement,N)||l.nextSibling instanceof Element&&le(l.nextSibling,N))&&(T=T.replace(/ $/,"")),T=T.replaceAll(""," ")}return u.insert(T)}],[Node.TEXT_NODE,x],["br",function(l,u){return X(u,`
`)||u.insert(`
`),u}],[Node.ELEMENT_NODE,x],[Node.ELEMENT_NODE,function(l,u,N){const T=N.query(l);if(T==null)return u;if(T.prototype instanceof d.EmbedBlot){const U={},m=T.value(l);if(m!=null)return U[T.blotName]=m,new(S())().insert(U,T.formats(l,N))}else if(T.prototype instanceof d.BlockBlot&&!X(u,`
`)&&u.insert(`
`),"blotName"in T&&"formats"in T&&typeof T.formats=="function")return ee(u,T.blotName,T.formats(l,N),N);return u}],[Node.ELEMENT_NODE,function(l,u,N){const T=d.Attributor.keys(l),U=d.ClassAttributor.keys(l),m=d.StyleAttributor.keys(l),r={};return T.concat(U).concat(m).forEach(o=>{let E=N.query(o,d.Scope.ATTRIBUTE);E!=null&&(r[E.attrName]=E.value(l),r[E.attrName])||(E=oe[o],E==null||E.attrName!==o&&E.keyName!==o||(r[E.attrName]=E.value(l)||void 0),E=he[o],E==null||E.attrName!==o&&E.keyName!==o||(E=he[o],r[E.attrName]=E.value(l)||void 0))}),Object.entries(r).reduce((o,E)=>{let[b,R]=E;return ee(o,b,R,N)},u)}],[Node.ELEMENT_NODE,function(l,u,N){var m;const T={},U=l.style||{};return U.fontStyle==="italic"&&(T.italic=!0),U.textDecoration==="underline"&&(T.underline=!0),U.textDecoration==="line-through"&&(T.strike=!0),((m=U.fontWeight)!=null&&m.startsWith("bold")||parseInt(U.fontWeight,10)>=700)&&(T.bold=!0),u=Object.entries(T).reduce((r,o)=>{let[E,b]=o;return ee(r,E,b,N)},u),parseFloat(U.textIndent||0)>0?new(S())().insert("	").concat(u):u}],["li",function(l,u,N){const T=N.query(l);if(T==null||T.blotName!=="list"||!X(u,`
`))return u;let U=-1,m=l.parentNode;for(;m!=null;)["OL","UL"].includes(m.tagName)&&(U+=1),m=m.parentNode;return U<=0?u:u.reduce((r,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?r.push(o):r.insert(o.insert,{indent:U,...o.attributes||{}}):r,new(S()))}],["ol, ul",function(l,u,N){const T=l;let U=T.tagName==="OL"?"ordered":"bullet";const m=T.getAttribute("data-checked");return m&&(U=m==="true"?"checked":"unchecked"),ee(u,"list",U,N)}],["pre",function(l,u,N){const T=N.query("code-block");return ee(u,"code-block",!T||!("formats"in T)||typeof T.formats!="function"||T.formats(l,N),N)}],["tr",function(l,u,N){var U,m;const T=((U=l.parentElement)==null?void 0:U.tagName)==="TABLE"?l.parentElement:(m=l.parentElement)==null?void 0:m.parentElement;return T!=null?ee(u,"table",Array.from(T.querySelectorAll("tr")).indexOf(l)+1,N):u}],["b",s("bold")],["i",s("italic")],["strike",s("strike")],["style",function(){return new(S())}]],oe=[a.gS,w.Mc].reduce((l,u)=>(l[u.keyName]=u,l),{}),he=[a.Hu,v.s,h.JM,w.VL,L.z,_.r].reduce((l,u)=>(l[u.keyName]=u,l),{});class ge extends f.A{constructor(u,N){super(u,N),this.quill.root.addEventListener("copy",T=>this.onCaptureCopy(T,!1)),this.quill.root.addEventListener("cut",T=>this.onCaptureCopy(T,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],ie.concat(this.options.matchers??[]).forEach(T=>{let[U,m]=T;this.addMatcher(U,m)})}addMatcher(u,N){this.matchers.push([u,N])}convert(u){let{html:N,text:T}=u,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U[O.Ay.blotName])return new(S())().insert(T||"",{[O.Ay.blotName]:U[O.Ay.blotName]});if(!N)return new(S())().insert(T||"",U);const m=this.convertHTML(N);return X(m,`
`)&&(m.ops[m.ops.length-1].attributes==null||U.table)?m.compose(new(S())().retain(m.length()-1).delete(1)):m}normalizeHTML(u){(N=>{N.documentElement&&B.forEach(T=>{T(N)})})(u)}convertHTML(u){const N=new DOMParser().parseFromString(u,"text/html");this.normalizeHTML(N);const T=N.body,U=new WeakMap,[m,r]=this.prepareMatching(T,U);return n(this.quill.scroll,T,m,r,U)}dangerouslyPasteHTML(u,N){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.Ay.sources.API;if(typeof u=="string"){const U=this.convert({html:u,text:""});this.quill.setContents(U,N),this.quill.setSelection(0,k.Ay.sources.SILENT)}else{const U=this.convert({html:N,text:""});this.quill.updateContents(new(S())().retain(u).concat(U),T),this.quill.setSelection(u+U.length(),k.Ay.sources.SILENT)}}onCaptureCopy(u){var r,o;let N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u.defaultPrevented)return;u.preventDefault();const[T]=this.quill.selection.getRange();if(T==null)return;const{html:U,text:m}=this.onCopy(T,N);(r=u.clipboardData)==null||r.setData("text/plain",m),(o=u.clipboardData)==null||o.setData("text/html",U),N&&(0,z.Xo)({range:T,quill:this.quill})}normalizeURIList(u){return u.split(/\r?\n/).filter(N=>N[0]!=="#").join(`
`)}onCapturePaste(u){var r,o,E,b,R;if(u.defaultPrevented||!this.quill.isEnabled())return;u.preventDefault();const N=this.quill.getSelection(!0);if(N==null)return;const T=(r=u.clipboardData)==null?void 0:r.getData("text/html");let U=(o=u.clipboardData)==null?void 0:o.getData("text/plain");if(!T&&!U){const F=(E=u.clipboardData)==null?void 0:E.getData("text/uri-list");F&&(U=this.normalizeURIList(F))}const m=Array.from(((b=u.clipboardData)==null?void 0:b.files)||[]);if(!T&&m.length>0)this.quill.uploader.upload(N,m);else{if(T&&m.length>0){const F=new DOMParser().parseFromString(T,"text/html");if(F.body.childElementCount===1&&((R=F.body.firstElementChild)==null?void 0:R.tagName)==="IMG")return void this.quill.uploader.upload(N,m)}this.onPaste(N,{html:T,text:U})}}onCopy(u){const N=this.quill.getText(u);return{html:this.quill.getSemanticHTML(u),text:N}}onPaste(u,N){let{text:T,html:U}=N;const m=this.quill.getFormat(u.index),r=this.convert({text:T,html:U},m);Z.log("onPaste",r,{text:T,html:U});const o=new(S())().retain(u.index).delete(u.length).concat(r);this.quill.updateContents(o,k.Ay.sources.USER),this.quill.setSelection(o.length()-u.length,k.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(u,N){const T=[],U=[];return this.matchers.forEach(m=>{const[r,o]=m;switch(r){case Node.TEXT_NODE:U.push(o);break;case Node.ELEMENT_NODE:T.push(o);break;default:Array.from(u.querySelectorAll(r)).forEach(E=>{if(N.has(E)){const b=N.get(E);b==null||b.push(o)}else N.set(E,[o])})}}),[T,U]}}fe(ge,"DEFAULTS",{matchers:[]});function ee(l,u,N,T){return T.query(u)?l.reduce((U,m)=>{if(!m.insert)return U;if(m.attributes&&m.attributes[u])return U.push(m);const r=N?{[u]:N}:{};return U.insert(m.insert,{...r,...m.attributes})},new(S())):l}function X(l,u){let N="";for(let T=l.ops.length-1;T>=0&&N.length<u.length;--T){const U=l.ops[T];if(typeof U.insert!="string")break;N=U.insert+N}return N.slice(-1*u.length)===u}function le(l,u){if(!(l instanceof Element))return!1;const N=u.query(l);return!(N&&N.prototype instanceof d.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(l.tagName.toLowerCase())}const y=new WeakMap;function e(l){return l!=null&&(y.has(l)||(l.tagName==="PRE"?y.set(l,!0):y.set(l,e(l.parentNode))),y.get(l))}function n(l,u,N,T,U){return u.nodeType===u.TEXT_NODE?T.reduce((m,r)=>r(u,m,l),new(S())):u.nodeType===u.ELEMENT_NODE?Array.from(u.childNodes||[]).reduce((m,r)=>{let o=n(l,r,N,T,U);return r.nodeType===u.ELEMENT_NODE&&(o=N.reduce((E,b)=>b(r,E,l),o),o=(U.get(r)||[]).reduce((E,b)=>b(r,E,l),o)),m.concat(o)},new(S())):new(S())}function s(l){return(u,N,T)=>ee(N,l,!0,T)}function x(l,u,N){if(!X(u,`
`)){if(le(l,N)&&(l.childNodes.length>0||l instanceof HTMLParagraphElement))return u.insert(`
`);if(u.length()>0&&l.nextSibling){let T=l.nextSibling;for(;T!=null;){if(le(T,N))return u.insert(`
`);const U=N.query(T);if(U&&U.prototype instanceof A.zo)return u.insert(`
`);T=T.firstChild}}}return u}},8123:function(G,C,t){t.d(C,{Ay:function(){return h},Xo:function(){return se}});var d=t(5123),q=t(3707),S=t(5232),A=t.n(S),M=t(6003),f=t(6142),k=t(6078),a=t(4266);const v=(0,k.A)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class h extends a.A{static match(p,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some(W=>!!j[W]!==p[W]&&j[W]!==null)&&(j.key===p.key||j.key===p.which)}constructor(p,j){super(p,j),this.bindings={},Object.keys(this.options.bindings).forEach(W=>{this.options.bindings[W]&&this.addBinding(this.options.bindings[W])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(p){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=function(Z){if(typeof Z=="string"||typeof Z=="number")Z={key:Z};else{if(typeof Z!="object")return null;Z=(0,q.A)(Z)}return Z.shortKey&&(Z[O]=Z.shortKey,delete Z.shortKey),Z}(p);B!=null?(typeof j=="function"&&(j={handler:j}),typeof W=="function"&&(W={handler:W}),(Array.isArray(B.key)?B.key:[B.key]).forEach(Z=>{const ie={...B,key:Z,...j,...W};this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)})):v.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",p=>{if(p.defaultPrevented||p.isComposing||p.keyCode===229&&(p.key==="Enter"||p.key==="Backspace"))return;const j=(this.bindings[p.key]||[]).concat(this.bindings[p.which]||[]).filter(e=>h.match(p,e));if(j.length===0)return;const W=f.Ay.find(p.target,!0);if(W&&W.scroll!==this.quill.scroll)return;const B=this.quill.getSelection();if(B==null||!this.quill.hasFocus())return;const[Z,ie]=this.quill.getLine(B.index),[oe,he]=this.quill.getLeaf(B.index),[ge,ee]=B.length===0?[oe,he]:this.quill.getLeaf(B.index+B.length),X=oe instanceof M.TextBlot?oe.value().slice(0,he):"",le=ge instanceof M.TextBlot?ge.value().slice(ee):"",y={collapsed:B.length===0,empty:B.length===0&&Z.length()<=1,format:this.quill.getFormat(B),line:Z,offset:ie,prefix:X,suffix:le,event:p};j.some(e=>{if(e.collapsed!=null&&e.collapsed!==y.collapsed||e.empty!=null&&e.empty!==y.empty||e.offset!=null&&e.offset!==y.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(n=>y.format[n]==null))return!1}else if(typeof e.format=="object"&&!Object.keys(e.format).every(n=>e.format[n]===!0?y.format[n]!=null:e.format[n]===!1?y.format[n]==null:(0,d.A)(e.format[n],y.format[n])))return!1;return!(e.prefix!=null&&!e.prefix.test(y.prefix)||e.suffix!=null&&!e.suffix.test(y.suffix)||e.handler.call(this,B,y,e)===!0)})&&p.preventDefault()})}handleBackspace(p,j){const W=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(p.index===0||this.quill.getLength()<=1)return;let B={};const[Z]=this.quill.getLine(p.index);let ie=new(A())().retain(p.index-W).delete(W);if(j.offset===0){const[oe]=this.quill.getLine(p.index-1);if(oe&&!(oe.statics.blotName==="block"&&oe.length()<=1)){const he=Z.formats(),ge=this.quill.getFormat(p.index-1,1);if(B=S.AttributeMap.diff(he,ge)||{},Object.keys(B).length>0){const ee=new(A())().retain(p.index+Z.length()-2).retain(1,B);ie=ie.compose(ee)}}}this.quill.updateContents(ie,f.Ay.sources.USER),this.quill.focus()}handleDelete(p,j){const W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(p.index>=this.quill.getLength()-W)return;let B={};const[Z]=this.quill.getLine(p.index);let ie=new(A())().retain(p.index).delete(W);if(j.offset>=Z.length()-1){const[oe]=this.quill.getLine(p.index+1);if(oe){const he=Z.formats(),ge=this.quill.getFormat(p.index,1);B=S.AttributeMap.diff(he,ge)||{},Object.keys(B).length>0&&(ie=ie.retain(oe.length()-1).retain(1,B))}}this.quill.updateContents(ie,f.Ay.sources.USER),this.quill.focus()}handleDeleteRange(p){se({range:p,quill:this.quill}),this.quill.focus()}handleEnter(p,j){const W=Object.keys(j.format).reduce((Z,ie)=>(this.quill.scroll.query(ie,M.Scope.BLOCK)&&!Array.isArray(j.format[ie])&&(Z[ie]=j.format[ie]),Z),{}),B=new(A())().retain(p.index).delete(p.length).insert(`
`,W);this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(p.index+1,f.Ay.sources.SILENT),this.quill.focus()}}const w={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","+1",f.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","-1",f.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(K,p){p.format.indent!=null?this.quill.format("indent","-1",f.Ay.sources.USER):p.format.list!=null&&this.quill.format("list",!1,f.Ay.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(K){this.quill.deleteText(K.index-1,1,f.Ay.sources.USER)}},tab:{key:"Tab",handler(K,p){if(p.format.table)return!0;this.quill.history.cutoff();const j=new(A())().retain(K.index).delete(K.length).insert("	");return this.quill.updateContents(j,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,f.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(K,p){const j={list:!1};p.format.indent&&(j.indent=!1),this.quill.formatLine(K.index,K.length,j,f.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(K){const[p,j]=this.quill.getLine(K.index),W={...p.formats(),list:"checked"},B=new(A())().retain(K.index).insert(`
`,W).retain(p.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(K,p){const[j,W]=this.quill.getLine(K.index),B=new(A())().retain(K.index).insert(`
`,p.format).retain(j.length()-W-1).retain(1,{header:null});this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(K){const p=this.quill.getModule("table");if(p){const[j,W,B,Z]=p.getTable(K),ie=function(he,ge,ee,X){return ge.prev==null&&ge.next==null?ee.prev==null&&ee.next==null?X===0?-1:1:ee.prev==null?-1:1:ge.prev==null?-1:ge.next==null?1:null}(0,W,B,Z);if(ie==null)return;let oe=j.offset();if(ie<0){const he=new(A())().retain(oe).insert(`
`);this.quill.updateContents(he,f.Ay.sources.USER),this.quill.setSelection(K.index+1,K.length,f.Ay.sources.SILENT)}else if(ie>0){oe+=j.length();const he=new(A())().retain(oe).insert(`
`);this.quill.updateContents(he,f.Ay.sources.USER),this.quill.setSelection(oe,f.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(K,p){const{event:j,line:W}=p,B=W.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(B-1,f.Ay.sources.USER):this.quill.setSelection(B+W.length(),f.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(K,p){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=p.prefix,[W,B]=this.quill.getLine(K.index);if(B>j)return!0;let Z;switch(p.prefix.trim()){case"[]":case"[ ]":Z="unchecked";break;case"[x]":Z="checked";break;case"-":case"*":Z="bullet";break;default:Z="ordered"}this.quill.insertText(K.index," ",f.Ay.sources.USER),this.quill.history.cutoff();const ie=new(A())().retain(K.index-B).delete(j+1).retain(W.length()-2-B).retain(1,{list:Z});return this.quill.updateContents(ie,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-j,f.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(K){const[p,j]=this.quill.getLine(K.index);let W=2,B=p;for(;B!=null&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,W-=1,W<=0){const Z=new(A())().retain(K.index+p.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(Z,f.Ay.sources.USER),this.quill.setSelection(K.index-1,f.Ay.sources.SILENT),!1}return!0}},"embed left":_("ArrowLeft",!1),"embed left shift":_("ArrowLeft",!0),"embed right":_("ArrowRight",!1),"embed right shift":_("ArrowRight",!0),"table down":J(!1),"table up":J(!0)}};function L(K){return{key:"Tab",shiftKey:!K,format:{"code-block":!0},handler(p,j){let{event:W}=j;const B=this.quill.scroll.query("code-block"),{TAB:Z}=B;if(p.length===0&&!W.shiftKey)return this.quill.insertText(p.index,Z,f.Ay.sources.USER),void this.quill.setSelection(p.index+Z.length,f.Ay.sources.SILENT);const ie=p.length===0?this.quill.getLines(p.index,1):this.quill.getLines(p);let{index:oe,length:he}=p;ie.forEach((ge,ee)=>{K?(ge.insertAt(0,Z),ee===0?oe+=Z.length:he+=Z.length):ge.domNode.textContent.startsWith(Z)&&(ge.deleteAt(0,Z.length),ee===0?oe-=Z.length:he-=Z.length)}),this.quill.update(f.Ay.sources.USER),this.quill.setSelection(oe,he,f.Ay.sources.SILENT)}}}function _(K,p){return{key:K,shiftKey:p,altKey:null,[K==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:W}=j;K==="ArrowRight"&&(W+=j.length+1);const[B]=this.quill.getLeaf(W);return!(B instanceof M.EmbedBlot&&(K==="ArrowLeft"?p?this.quill.setSelection(j.index-1,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index-1,f.Ay.sources.USER):p?this.quill.setSelection(j.index,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,f.Ay.sources.USER),1))}}}function z(K){return{key:K[0],shortKey:!0,handler(p,j){this.quill.format(K,!j.format[K],f.Ay.sources.USER)}}}function J(K){return{key:K?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(p,j){const W=K?"prev":"next",B=j.line,Z=B.parent[W];if(Z!=null){if(Z.statics.blotName==="table-row"){let ie=Z.children.head,oe=B;for(;oe.prev!=null;)oe=oe.prev,ie=ie.next;const he=ie.offset(this.quill.scroll)+Math.min(j.offset,ie.length()-1);this.quill.setSelection(he,0,f.Ay.sources.USER)}}else{const ie=B.table()[W];ie!=null&&(K?this.quill.setSelection(ie.offset(this.quill.scroll)+ie.length()-1,0,f.Ay.sources.USER):this.quill.setSelection(ie.offset(this.quill.scroll),0,f.Ay.sources.USER))}return!1}}}function se(K){let{quill:p,range:j}=K;const W=p.getLines(j);let B={};if(W.length>1){const Z=W[0].formats(),ie=W[W.length-1].formats();B=S.AttributeMap.diff(ie,Z)||{}}p.deleteText(j,f.Ay.sources.USER),Object.keys(B).length>0&&p.formatLine(j.index,1,B,f.Ay.sources.USER),p.setSelection(j.index,f.Ay.sources.SILENT)}h.DEFAULTS=w},8920:function(G){var C=Object.prototype.hasOwnProperty,t="~";function d(){}function q(f,k,a){this.fn=f,this.context=k,this.once=a||!1}function S(f,k,a,v,O){if(typeof a!="function")throw new TypeError("The listener must be a function");var h=new q(a,v||f,O),w=t?t+k:k;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],h]:f._events[w].push(h):(f._events[w]=h,f._eventsCount++),f}function A(f,k){--f._eventsCount==0?f._events=new d:delete f._events[k]}function M(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(t=!1)),M.prototype.eventNames=function(){var f,k,a=[];if(this._eventsCount===0)return a;for(k in f=this._events)C.call(f,k)&&a.push(t?k.slice(1):k);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(f)):a},M.prototype.listeners=function(f){var k=t?t+f:f,a=this._events[k];if(!a)return[];if(a.fn)return[a.fn];for(var v=0,O=a.length,h=new Array(O);v<O;v++)h[v]=a[v].fn;return h},M.prototype.listenerCount=function(f){var k=t?t+f:f,a=this._events[k];return a?a.fn?1:a.length:0},M.prototype.emit=function(f,k,a,v,O,h){var w=t?t+f:f;if(!this._events[w])return!1;var L,_,z=this._events[w],J=arguments.length;if(z.fn){switch(z.once&&this.removeListener(f,z.fn,void 0,!0),J){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,k),!0;case 3:return z.fn.call(z.context,k,a),!0;case 4:return z.fn.call(z.context,k,a,v),!0;case 5:return z.fn.call(z.context,k,a,v,O),!0;case 6:return z.fn.call(z.context,k,a,v,O,h),!0}for(_=1,L=new Array(J-1);_<J;_++)L[_-1]=arguments[_];z.fn.apply(z.context,L)}else{var se,K=z.length;for(_=0;_<K;_++)switch(z[_].once&&this.removeListener(f,z[_].fn,void 0,!0),J){case 1:z[_].fn.call(z[_].context);break;case 2:z[_].fn.call(z[_].context,k);break;case 3:z[_].fn.call(z[_].context,k,a);break;case 4:z[_].fn.call(z[_].context,k,a,v);break;default:if(!L)for(se=1,L=new Array(J-1);se<J;se++)L[se-1]=arguments[se];z[_].fn.apply(z[_].context,L)}}return!0},M.prototype.on=function(f,k,a){return S(this,f,k,a,!1)},M.prototype.once=function(f,k,a){return S(this,f,k,a,!0)},M.prototype.removeListener=function(f,k,a,v){var O=t?t+f:f;if(!this._events[O])return this;if(!k)return A(this,O),this;var h=this._events[O];if(h.fn)h.fn!==k||v&&!h.once||a&&h.context!==a||A(this,O);else{for(var w=0,L=[],_=h.length;w<_;w++)(h[w].fn!==k||v&&!h[w].once||a&&h[w].context!==a)&&L.push(h[w]);L.length?this._events[O]=L.length===1?L[0]:L:A(this,O)}return this},M.prototype.removeAllListeners=function(f){var k;return f?(k=t?t+f:f,this._events[k]&&A(this,k)):(this._events=new d,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=t,M.EventEmitter=M,G.exports=M},5090:function(G){var C=-1,t=1,d=0;function q(p,j,W,B,Z){if(p===j)return p?[[d,p]]:[];if(W!=null){var ie=function(X,le,y){var e=typeof y=="number"?{index:y,length:0}:y.oldRange,n=typeof y=="number"?null:y.newRange,s=X.length,x=le.length;if(e.length===0&&(n===null||n.length===0)){var l=e.index,u=X.slice(0,l),N=X.slice(l),T=n?n.index:null,U=l+x-s;if((T===null||T===U)&&!(U<0||U>x)){var m=le.slice(0,U);if((E=le.slice(U))===N){var r=Math.min(l,U);if((R=u.slice(0,r))===(H=m.slice(0,r)))return se(R,u.slice(r),m.slice(r),N)}}if(T===null||T===l){var o=l,E=(m=le.slice(0,o),le.slice(o));if(m===u){var b=Math.min(s-o,x-o);if((F=N.slice(N.length-b))===(te=E.slice(E.length-b)))return se(u,N.slice(0,N.length-b),E.slice(0,E.length-b),F)}}}if(e.length>0&&n&&n.length===0){var R=X.slice(0,e.index),F=X.slice(e.index+e.length);if(!(x<(r=R.length)+(b=F.length))){var H=le.slice(0,r),te=le.slice(x-b);if(R===H&&F===te)return se(R,X.slice(r,s-b),le.slice(r,x-b),F)}}return null}(p,j,W);if(ie)return ie}var oe=A(p,j),he=p.substring(0,oe);oe=f(p=p.substring(oe),j=j.substring(oe));var ge=p.substring(p.length-oe),ee=function(X,le){var y;if(!X)return[[t,le]];if(!le)return[[C,X]];var e=X.length>le.length?X:le,n=X.length>le.length?le:X,s=e.indexOf(n);if(s!==-1)return y=[[t,e.substring(0,s)],[d,n],[t,e.substring(s+n.length)]],X.length>le.length&&(y[0][0]=y[2][0]=C),y;if(n.length===1)return[[C,X],[t,le]];var x=function(o,E){var b=o.length>E.length?o:E,R=o.length>E.length?E:o;if(b.length<4||2*R.length<b.length)return null;function F(pe,xe,Se){for(var je,ve,Oe,Le,Ce=pe.substring(Se,Se+Math.floor(pe.length/4)),Ne=-1,ke="";(Ne=xe.indexOf(Ce,Ne+1))!==-1;){var Ie=A(pe.substring(Se),xe.substring(Ne)),ze=f(pe.substring(0,Se),xe.substring(0,Ne));ke.length<ze+Ie&&(ke=xe.substring(Ne-ze,Ne)+xe.substring(Ne,Ne+Ie),je=pe.substring(0,Se-ze),ve=pe.substring(Se+Ie),Oe=xe.substring(0,Ne-ze),Le=xe.substring(Ne+Ie))}return 2*ke.length>=pe.length?[je,ve,Oe,Le,ke]:null}var H,te,Q,ne,ae,ue=F(b,R,Math.ceil(b.length/4)),de=F(b,R,Math.ceil(b.length/2));return ue||de?(H=de?ue&&ue[4].length>de[4].length?ue:de:ue,o.length>E.length?(te=H[0],Q=H[1],ne=H[2],ae=H[3]):(ne=H[0],ae=H[1],te=H[2],Q=H[3]),[te,Q,ne,ae,H[4]]):null}(X,le);if(x){var l=x[0],u=x[1],N=x[2],T=x[3],U=x[4],m=q(l,N),r=q(u,T);return m.concat([[d,U]],r)}return function(o,E){for(var b=o.length,R=E.length,F=Math.ceil((b+R)/2),H=F,te=2*F,Q=new Array(te),ne=new Array(te),ae=0;ae<te;ae++)Q[ae]=-1,ne[ae]=-1;Q[H+1]=0,ne[H+1]=0;for(var ue=b-R,de=ue%2!=0,pe=0,xe=0,Se=0,je=0,ve=0;ve<F;ve++){for(var Oe=-ve+pe;Oe<=ve-xe;Oe+=2){for(var Le=H+Oe,Ce=(_e=Oe===-ve||Oe!==ve&&Q[Le-1]<Q[Le+1]?Q[Le+1]:Q[Le-1]+1)-Oe;_e<b&&Ce<R&&o.charAt(_e)===E.charAt(Ce);)_e++,Ce++;if(Q[Le]=_e,_e>b)xe+=2;else if(Ce>R)pe+=2;else if(de&&(Ie=H+ue-Oe)>=0&&Ie<te&&ne[Ie]!==-1&&_e>=(ke=b-ne[Ie]))return S(o,E,_e,Ce)}for(var Ne=-ve+Se;Ne<=ve-je;Ne+=2){for(var ke,Ie=H+Ne,ze=(ke=Ne===-ve||Ne!==ve&&ne[Ie-1]<ne[Ie+1]?ne[Ie+1]:ne[Ie-1]+1)-Ne;ke<b&&ze<R&&o.charAt(b-ke-1)===E.charAt(R-ze-1);)ke++,ze++;if(ne[Ie]=ke,ke>b)je+=2;else if(ze>R)Se+=2;else if(!de){var _e;if((Le=H+ue-Ne)>=0&&Le<te&&Q[Le]!==-1&&(Ce=H+(_e=Q[Le])-Le,_e>=(ke=b-ke)))return S(o,E,_e,Ce)}}}return[[C,o],[t,E]]}(X,le)}(p=p.substring(0,p.length-oe),j=j.substring(0,j.length-oe));return he&&ee.unshift([d,he]),ge&&ee.push([d,ge]),w(ee,Z),B&&function(X){for(var le=!1,y=[],e=0,n=null,s=0,x=0,l=0,u=0,N=0;s<X.length;)X[s][0]==d?(y[e++]=s,x=u,l=N,u=0,N=0,n=X[s][1]):(X[s][0]==t?u+=X[s][1].length:N+=X[s][1].length,n&&n.length<=Math.max(x,l)&&n.length<=Math.max(u,N)&&(X.splice(y[e-1],0,[C,n]),X[y[e-1]+1][0]=t,e--,s=--e>0?y[e-1]:-1,x=0,l=0,u=0,N=0,n=null,le=!0)),s++;for(le&&w(X),function(o){function E(xe,Se){if(!xe||!Se)return 6;var je=xe.charAt(xe.length-1),ve=Se.charAt(0),Oe=je.match(k),Le=ve.match(k),Ce=Oe&&je.match(a),Ne=Le&&ve.match(a),ke=Ce&&je.match(v),Ie=Ne&&ve.match(v),ze=ke&&xe.match(O),_e=Ie&&Se.match(h);return ze||_e?5:ke||Ie?4:Oe&&!Ce&&Ne?3:Ce||Ne?2:Oe||Le?1:0}for(var b=1;b<o.length-1;){if(o[b-1][0]==d&&o[b+1][0]==d){var R=o[b-1][1],F=o[b][1],H=o[b+1][1],te=f(R,F);if(te){var Q=F.substring(F.length-te);R=R.substring(0,R.length-te),F=Q+F.substring(0,F.length-te),H=Q+H}for(var ne=R,ae=F,ue=H,de=E(R,F)+E(F,H);F.charAt(0)===H.charAt(0);){R+=F.charAt(0),F=F.substring(1)+H.charAt(0),H=H.substring(1);var pe=E(R,F)+E(F,H);pe>=de&&(de=pe,ne=R,ae=F,ue=H)}o[b-1][1]!=ne&&(ne?o[b-1][1]=ne:(o.splice(b-1,1),b--),o[b][1]=ae,ue?o[b+1][1]=ue:(o.splice(b+1,1),b--))}b++}}(X),s=1;s<X.length;){if(X[s-1][0]==C&&X[s][0]==t){var T=X[s-1][1],U=X[s][1],m=M(T,U),r=M(U,T);m>=r?(m>=T.length/2||m>=U.length/2)&&(X.splice(s,0,[d,U.substring(0,m)]),X[s-1][1]=T.substring(0,T.length-m),X[s+1][1]=U.substring(m),s++):(r>=T.length/2||r>=U.length/2)&&(X.splice(s,0,[d,T.substring(0,r)]),X[s-1][0]=t,X[s-1][1]=U.substring(0,U.length-r),X[s+1][0]=C,X[s+1][1]=T.substring(r),s++),s++}s++}}(ee),ee}function S(p,j,W,B){var Z=p.substring(0,W),ie=j.substring(0,B),oe=p.substring(W),he=j.substring(B),ge=q(Z,ie),ee=q(oe,he);return ge.concat(ee)}function A(p,j){if(!p||!j||p.charAt(0)!==j.charAt(0))return 0;for(var W=0,B=Math.min(p.length,j.length),Z=B,ie=0;W<Z;)p.substring(ie,Z)==j.substring(ie,Z)?ie=W=Z:B=Z,Z=Math.floor((B-W)/2+W);return L(p.charCodeAt(Z-1))&&Z--,Z}function M(p,j){var W=p.length,B=j.length;if(W==0||B==0)return 0;W>B?p=p.substring(W-B):W<B&&(j=j.substring(0,W));var Z=Math.min(W,B);if(p==j)return Z;for(var ie=0,oe=1;;){var he=p.substring(Z-oe),ge=j.indexOf(he);if(ge==-1)return ie;oe+=ge,ge!=0&&p.substring(Z-oe)!=j.substring(0,oe)||(ie=oe,oe++)}}function f(p,j){if(!p||!j||p.slice(-1)!==j.slice(-1))return 0;for(var W=0,B=Math.min(p.length,j.length),Z=B,ie=0;W<Z;)p.substring(p.length-Z,p.length-ie)==j.substring(j.length-Z,j.length-ie)?ie=W=Z:B=Z,Z=Math.floor((B-W)/2+W);return _(p.charCodeAt(p.length-Z))&&Z--,Z}var k=/[^a-zA-Z0-9]/,a=/\s/,v=/[\r\n]/,O=/\n\r?\n$/,h=/^\r?\n\r?\n/;function w(p,j){p.push([d,""]);for(var W,B=0,Z=0,ie=0,oe="",he="";B<p.length;)if(B<p.length-1&&!p[B][1])p.splice(B,1);else switch(p[B][0]){case t:ie++,he+=p[B][1],B++;break;case C:Z++,oe+=p[B][1],B++;break;case d:var ge=B-ie-Z-1;if(j){if(ge>=0&&J(p[ge][1])){var ee=p[ge][1].slice(-1);if(p[ge][1]=p[ge][1].slice(0,-1),oe=ee+oe,he=ee+he,!p[ge][1]){p.splice(ge,1),B--;var X=ge-1;p[X]&&p[X][0]===t&&(ie++,he=p[X][1]+he,X--),p[X]&&p[X][0]===C&&(Z++,oe=p[X][1]+oe,X--),ge=X}}z(p[B][1])&&(ee=p[B][1].charAt(0),p[B][1]=p[B][1].slice(1),oe+=ee,he+=ee)}if(B<p.length-1&&!p[B][1]){p.splice(B,1);break}if(oe.length>0||he.length>0){oe.length>0&&he.length>0&&((W=A(he,oe))!==0&&(ge>=0?p[ge][1]+=he.substring(0,W):(p.splice(0,0,[d,he.substring(0,W)]),B++),he=he.substring(W),oe=oe.substring(W)),(W=f(he,oe))!==0&&(p[B][1]=he.substring(he.length-W)+p[B][1],he=he.substring(0,he.length-W),oe=oe.substring(0,oe.length-W)));var le=ie+Z;oe.length===0&&he.length===0?(p.splice(B-le,le),B-=le):oe.length===0?(p.splice(B-le,le,[t,he]),B=B-le+1):he.length===0?(p.splice(B-le,le,[C,oe]),B=B-le+1):(p.splice(B-le,le,[C,oe],[t,he]),B=B-le+2)}B!==0&&p[B-1][0]===d?(p[B-1][1]+=p[B][1],p.splice(B,1)):B++,ie=0,Z=0,oe="",he=""}p[p.length-1][1]===""&&p.pop();var y=!1;for(B=1;B<p.length-1;)p[B-1][0]===d&&p[B+1][0]===d&&(p[B][1].substring(p[B][1].length-p[B-1][1].length)===p[B-1][1]?(p[B][1]=p[B-1][1]+p[B][1].substring(0,p[B][1].length-p[B-1][1].length),p[B+1][1]=p[B-1][1]+p[B+1][1],p.splice(B-1,1),y=!0):p[B][1].substring(0,p[B+1][1].length)==p[B+1][1]&&(p[B-1][1]+=p[B+1][1],p[B][1]=p[B][1].substring(p[B+1][1].length)+p[B+1][1],p.splice(B+1,1),y=!0)),B++;y&&w(p,j)}function L(p){return p>=55296&&p<=56319}function _(p){return p>=56320&&p<=57343}function z(p){return _(p.charCodeAt(0))}function J(p){return L(p.charCodeAt(p.length-1))}function se(p,j,W,B){return J(p)||z(B)?null:function(Z){for(var ie=[],oe=0;oe<Z.length;oe++)Z[oe][1].length>0&&ie.push(Z[oe]);return ie}([[d,p],[C,j],[t,W],[d,B]])}function K(p,j,W,B){return q(p,j,W,B,!0)}K.INSERT=t,K.DELETE=C,K.EQUAL=d,G.exports=K},9629:function(G,C,t){G=t.nmd(G);var d="__lodash_hash_undefined__",q=9007199254740991,S="[object Arguments]",A="[object Boolean]",M="[object Date]",f="[object Function]",k="[object GeneratorFunction]",a="[object Map]",v="[object Number]",O="[object Object]",h="[object Promise]",w="[object RegExp]",L="[object Set]",_="[object String]",z="[object Symbol]",J="[object WeakMap]",se="[object ArrayBuffer]",K="[object DataView]",p="[object Float32Array]",j="[object Float64Array]",W="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",ie="[object Uint8Array]",oe="[object Uint8ClampedArray]",he="[object Uint16Array]",ge="[object Uint32Array]",ee=/\w*$/,X=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,y={};y[S]=y["[object Array]"]=y[se]=y[K]=y[A]=y[M]=y[p]=y[j]=y[W]=y[B]=y[Z]=y[a]=y[v]=y[O]=y[w]=y[L]=y[_]=y[z]=y[ie]=y[oe]=y[he]=y[ge]=!0,y["[object Error]"]=y[f]=y[J]=!1;var e=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,n=typeof self=="object"&&self&&self.Object===Object&&self,s=e||n||Function("return this")(),x=C&&!C.nodeType&&C,l=x&&G&&!G.nodeType&&G,u=l&&l.exports===x;function N(P,g){return P.set(g[0],g[1]),P}function T(P,g){return P.add(g),P}function U(P,g,I,V){var ce=-1,we=P?P.length:0;for(V;++ce<we;)I=g(I,P[ce],ce,P);return I}function m(P){var g=!1;if(P!=null&&typeof P.toString!="function")try{g=!!(P+"")}catch{}return g}function r(P){var g=-1,I=Array(P.size);return P.forEach(function(V,ce){I[++g]=[ce,V]}),I}function o(P,g){return function(I){return P(g(I))}}function E(P){var g=-1,I=Array(P.size);return P.forEach(function(V){I[++g]=V}),I}var b,R=Array.prototype,F=Function.prototype,H=Object.prototype,te=s["__core-js_shared__"],Q=(b=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",ne=F.toString,ae=H.hasOwnProperty,ue=H.toString,de=RegExp("^"+ne.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=u?s.Buffer:void 0,xe=s.Symbol,Se=s.Uint8Array,je=o(Object.getPrototypeOf,Object),ve=Object.create,Oe=H.propertyIsEnumerable,Le=R.splice,Ce=Object.getOwnPropertySymbols,Ne=pe?pe.isBuffer:void 0,ke=o(Object.keys,Object),Ie=lt(s,"DataView"),ze=lt(s,"Map"),_e=lt(s,"Promise"),yt=lt(s,"Set"),kt=lt(s,"WeakMap"),gt=lt(Object,"create"),Tt=Y(Ie),_t=Y(ze),St=Y(_e),ht=Y(yt),ct=Y(kt),Ge=xe?xe.prototype:void 0,it=Ge?Ge.valueOf:void 0;function nt(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function Fe(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function rt(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function st(P){this.__data__=new Fe(P)}function At(P,g,I){var V=P[g];ae.call(P,g)&&re(V,I)&&(I!==void 0||g in P)||(P[g]=I)}function ft(P,g){for(var I=P.length;I--;)if(re(P[I][0],g))return I;return-1}function vt(P,g,I,V,ce,we,be){var Ae;if(V&&(Ae=we?V(P,ce,we,be):V(P)),Ae!==void 0)return Ae;if(!$e(P))return P;var De=me(P);if(De){if(Ae=function(ye){var qe=ye.length,Re=ye.constructor(qe);return qe&&typeof ye[0]=="string"&&ae.call(ye,"index")&&(Re.index=ye.index,Re.input=ye.input),Re}(P),!g)return function(ye,qe){var Re=-1,We=ye.length;for(qe||(qe=Array(We));++Re<We;)qe[Re]=ye[Re];return qe}(P,Ae)}else{var Me=i(P),Ze=Me==f||Me==k;if(He(P))return function(ye,qe){if(qe)return ye.slice();var Re=new ye.constructor(ye.length);return ye.copy(Re),Re}(P,g);if(Me==O||Me==S||Ze&&!we){if(m(P))return we?P:{};if(Ae=function(ye){return typeof ye.constructor!="function"||D(ye)?{}:$e(qe=je(ye))?ve(qe):{};var qe}(Ze?{}:P),!g)return function(ye,qe){return ot(ye,$(ye),qe)}(P,function(ye,qe){return ye&&ot(qe,Je(qe),ye)}(Ae,P))}else{if(!y[Me])return we?P:{};Ae=function(ye,qe,Re,We){var pt,at=ye.constructor;switch(qe){case se:return xt(ye);case A:case M:return new at(+ye);case K:return function(Be,et){var dt=et?xt(Be.buffer):Be.buffer;return new Be.constructor(dt,Be.byteOffset,Be.byteLength)}(ye,We);case p:case j:case W:case B:case Z:case ie:case oe:case he:case ge:return function(Be,et){var dt=et?xt(Be.buffer):Be.buffer;return new Be.constructor(dt,Be.byteOffset,Be.length)}(ye,We);case a:return function(Be,et,dt){return U(et?dt(r(Be),!0):r(Be),N,new Be.constructor)}(ye,We,Re);case v:case _:return new at(ye);case w:return function(Be){var et=new Be.constructor(Be.source,ee.exec(Be));return et.lastIndex=Be.lastIndex,et}(ye);case L:return function(Be,et,dt){return U(et?dt(E(Be),!0):E(Be),T,new Be.constructor)}(ye,We,Re);case z:return pt=ye,it?Object(it.call(pt)):{}}}(P,Me,vt,g)}}be||(be=new st);var Ve=be.get(P);if(Ve)return Ve;if(be.set(P,Ae),!De)var Ke=I?function(ye){return function(qe,Re,We){var pt=Re(qe);return me(qe)?pt:function(at,Be){for(var et=-1,dt=Be.length,Ft=at.length;++et<dt;)at[Ft+et]=Be[et];return at}(pt,We(qe))}(ye,Je,$)}(P):Je(P);return function(ye,qe){for(var Re=-1,We=ye?ye.length:0;++Re<We&&qe(ye[Re],Re)!==!1;);}(Ke||P,function(ye,qe){Ke&&(ye=P[qe=ye]),At(Ae,qe,vt(ye,g,I,V,qe,P,be))}),Ae}function xt(P){var g=new P.constructor(P.byteLength);return new Se(g).set(new Se(P)),g}function ot(P,g,I,V){I||(I={});for(var ce=-1,we=g.length;++ce<we;){var be=g[ce],Ae=void 0;At(I,be,Ae===void 0?P[be]:Ae)}return I}function tt(P,g){var I,V,ce=P.__data__;return((V=typeof(I=g))=="string"||V=="number"||V=="symbol"||V=="boolean"?I!=="__proto__":I===null)?ce[typeof g=="string"?"string":"hash"]:ce.map}function lt(P,g){var I=function(V,ce){return V==null?void 0:V[ce]}(P,g);return function(V){return!(!$e(V)||(ce=V,Q&&Q in ce))&&(Xe(V)||m(V)?de:X).test(Y(V));var ce}(I)?I:void 0}nt.prototype.clear=function(){this.__data__=gt?gt(null):{}},nt.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},nt.prototype.get=function(P){var g=this.__data__;if(gt){var I=g[P];return I===d?void 0:I}return ae.call(g,P)?g[P]:void 0},nt.prototype.has=function(P){var g=this.__data__;return gt?g[P]!==void 0:ae.call(g,P)},nt.prototype.set=function(P,g){return this.__data__[P]=gt&&g===void 0?d:g,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(P){var g=this.__data__,I=ft(g,P);return!(I<0||(I==g.length-1?g.pop():Le.call(g,I,1),0))},Fe.prototype.get=function(P){var g=this.__data__,I=ft(g,P);return I<0?void 0:g[I][1]},Fe.prototype.has=function(P){return ft(this.__data__,P)>-1},Fe.prototype.set=function(P,g){var I=this.__data__,V=ft(I,P);return V<0?I.push([P,g]):I[V][1]=g,this},rt.prototype.clear=function(){this.__data__={hash:new nt,map:new(ze||Fe),string:new nt}},rt.prototype.delete=function(P){return tt(this,P).delete(P)},rt.prototype.get=function(P){return tt(this,P).get(P)},rt.prototype.has=function(P){return tt(this,P).has(P)},rt.prototype.set=function(P,g){return tt(this,P).set(P,g),this},st.prototype.clear=function(){this.__data__=new Fe},st.prototype.delete=function(P){return this.__data__.delete(P)},st.prototype.get=function(P){return this.__data__.get(P)},st.prototype.has=function(P){return this.__data__.has(P)},st.prototype.set=function(P,g){var I=this.__data__;if(I instanceof Fe){var V=I.__data__;if(!ze||V.length<199)return V.push([P,g]),this;I=this.__data__=new rt(V)}return I.set(P,g),this};var $=Ce?o(Ce,Object):function(){return[]},i=function(P){return ue.call(P)};function c(P,g){return!!(g=g??q)&&(typeof P=="number"||le.test(P))&&P>-1&&P%1==0&&P<g}function D(P){var g=P&&P.constructor;return P===(typeof g=="function"&&g.prototype||H)}function Y(P){if(P!=null){try{return ne.call(P)}catch{}try{return P+""}catch{}}return""}function re(P,g){return P===g||P!=P&&g!=g}(Ie&&i(new Ie(new ArrayBuffer(1)))!=K||ze&&i(new ze)!=a||_e&&i(_e.resolve())!=h||yt&&i(new yt)!=L||kt&&i(new kt)!=J)&&(i=function(P){var g=ue.call(P),I=g==O?P.constructor:void 0,V=I?Y(I):void 0;if(V)switch(V){case Tt:return K;case _t:return a;case St:return h;case ht:return L;case ct:return J}return g});var me=Array.isArray;function Ee(P){return P!=null&&function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=q}(P.length)&&!Xe(P)}var He=Ne||function(){return!1};function Xe(P){var g=$e(P)?ue.call(P):"";return g==f||g==k}function $e(P){var g=typeof P;return!!P&&(g=="object"||g=="function")}function Je(P){return Ee(P)?function(g,I){var V=me(g)||function(Ae){return function(De){return function(Me){return!!Me&&typeof Me=="object"}(De)&&Ee(De)}(Ae)&&ae.call(Ae,"callee")&&(!Oe.call(Ae,"callee")||ue.call(Ae)==S)}(g)?function(Ae,De){for(var Me=-1,Ze=Array(Ae);++Me<Ae;)Ze[Me]=De(Me);return Ze}(g.length,String):[],ce=V.length,we=!!ce;for(var be in g)!ae.call(g,be)||we&&(be=="length"||c(be,ce))||V.push(be);return V}(P):function(g){if(!D(g))return ke(g);var I=[];for(var V in Object(g))ae.call(g,V)&&V!="constructor"&&I.push(V);return I}(P)}G.exports=function(P){return vt(P,!0,!0)}},4162:function(G,C,t){G=t.nmd(G);var d="__lodash_hash_undefined__",q=1,S=2,A=9007199254740991,M="[object Arguments]",f="[object Array]",k="[object AsyncFunction]",a="[object Boolean]",v="[object Date]",O="[object Error]",h="[object Function]",w="[object GeneratorFunction]",L="[object Map]",_="[object Number]",z="[object Null]",J="[object Object]",se="[object Promise]",K="[object Proxy]",p="[object RegExp]",j="[object Set]",W="[object String]",B="[object Undefined]",Z="[object WeakMap]",ie="[object ArrayBuffer]",oe="[object DataView]",he=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,ee={};ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee[M]=ee[f]=ee[ie]=ee[a]=ee[oe]=ee[v]=ee[O]=ee[h]=ee[L]=ee[_]=ee[J]=ee[p]=ee[j]=ee[W]=ee[Z]=!1;var X=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,le=typeof self=="object"&&self&&self.Object===Object&&self,y=X||le||Function("return this")(),e=C&&!C.nodeType&&C,n=e&&G&&!G.nodeType&&G,s=n&&n.exports===e,x=s&&X.process,l=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),u=l&&l.isTypedArray;function N(g,I){for(var V=-1,ce=g==null?0:g.length;++V<ce;)if(I(g[V],V,g))return!0;return!1}function T(g){var I=-1,V=Array(g.size);return g.forEach(function(ce,we){V[++I]=[we,ce]}),V}function U(g){var I=-1,V=Array(g.size);return g.forEach(function(ce){V[++I]=ce}),V}var m,r,o,E=Array.prototype,b=Function.prototype,R=Object.prototype,F=y["__core-js_shared__"],H=b.toString,te=R.hasOwnProperty,Q=(m=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",ne=R.toString,ae=RegExp("^"+H.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=s?y.Buffer:void 0,de=y.Symbol,pe=y.Uint8Array,xe=R.propertyIsEnumerable,Se=E.splice,je=de?de.toStringTag:void 0,ve=Object.getOwnPropertySymbols,Oe=ue?ue.isBuffer:void 0,Le=(r=Object.keys,o=Object,function(g){return r(o(g))}),Ce=tt(y,"DataView"),Ne=tt(y,"Map"),ke=tt(y,"Promise"),Ie=tt(y,"Set"),ze=tt(y,"WeakMap"),_e=tt(Object,"create"),yt=c(Ce),kt=c(Ne),gt=c(ke),Tt=c(Ie),_t=c(ze),St=de?de.prototype:void 0,ht=St?St.valueOf:void 0;function ct(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ce=g[I];this.set(ce[0],ce[1])}}function Ge(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ce=g[I];this.set(ce[0],ce[1])}}function it(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ce=g[I];this.set(ce[0],ce[1])}}function nt(g){var I=-1,V=g==null?0:g.length;for(this.__data__=new it;++I<V;)this.add(g[I])}function Fe(g){var I=this.__data__=new Ge(g);this.size=I.size}function rt(g,I){for(var V=g.length;V--;)if(D(g[V][0],I))return V;return-1}function st(g){return g==null?g===void 0?B:z:je&&je in Object(g)?function(I){var V=te.call(I,je),ce=I[je];try{I[je]=void 0;var we=!0}catch{}var be=ne.call(I);return we&&(V?I[je]=ce:delete I[je]),be}(g):function(I){return ne.call(I)}(g)}function At(g){return $e(g)&&st(g)==M}function ft(g,I,V,ce,we){return g===I||(g==null||I==null||!$e(g)&&!$e(I)?g!=g&&I!=I:function(be,Ae,De,Me,Ze,Ve){var Ke=re(be),ye=re(Ae),qe=Ke?f:$(be),Re=ye?f:$(Ae),We=(qe=qe==M?J:qe)==J,pt=(Re=Re==M?J:Re)==J,at=qe==Re;if(at&&me(be)){if(!me(Ae))return!1;Ke=!0,We=!1}if(at&&!We)return Ve||(Ve=new Fe),Ke||Je(be)?vt(be,Ae,De,Me,Ze,Ve):function(Pe,Ue,Bt,Nt,Ht,ut,mt){switch(Bt){case oe:if(Pe.byteLength!=Ue.byteLength||Pe.byteOffset!=Ue.byteOffset)return!1;Pe=Pe.buffer,Ue=Ue.buffer;case ie:return!(Pe.byteLength!=Ue.byteLength||!ut(new pe(Pe),new pe(Ue)));case a:case v:case _:return D(+Pe,+Ue);case O:return Pe.name==Ue.name&&Pe.message==Ue.message;case p:case W:return Pe==Ue+"";case L:var Et=T;case j:var jt=Nt&q;if(Et||(Et=U),Pe.size!=Ue.size&&!jt)return!1;var Lt=mt.get(Pe);if(Lt)return Lt==Ue;Nt|=S,mt.set(Pe,Ue);var bt=vt(Et(Pe),Et(Ue),Nt,Ht,ut,mt);return mt.delete(Pe),bt;case"[object Symbol]":if(ht)return ht.call(Pe)==ht.call(Ue)}return!1}(be,Ae,qe,De,Me,Ze,Ve);if(!(De&q)){var Be=We&&te.call(be,"__wrapped__"),et=pt&&te.call(Ae,"__wrapped__");if(Be||et){var dt=Be?be.value():be,Ft=et?Ae.value():Ae;return Ve||(Ve=new Fe),Ze(dt,Ft,De,Me,Ve)}}return!!at&&(Ve||(Ve=new Fe),function(Pe,Ue,Bt,Nt,Ht,ut){var mt=Bt&q,Et=xt(Pe),jt=Et.length;if(jt!=xt(Ue).length&&!mt)return!1;for(var Lt=jt;Lt--;){var bt=Et[Lt];if(!(mt?bt in Ue:te.call(Ue,bt)))return!1}var Zt=ut.get(Pe);if(Zt&&ut.get(Ue))return Zt==Ue;var It=!0;ut.set(Pe,Ue),ut.set(Ue,Pe);for(var $t=mt;++Lt<jt;){var Mt=Pe[bt=Et[Lt]],Ut=Ue[bt];if(Nt)var Gt=mt?Nt(Ut,Mt,bt,Ue,Pe,ut):Nt(Mt,Ut,bt,Pe,Ue,ut);if(!(Gt===void 0?Mt===Ut||Ht(Mt,Ut,Bt,Nt,ut):Gt)){It=!1;break}$t||($t=bt=="constructor")}if(It&&!$t){var Dt=Pe.constructor,Pt=Ue.constructor;Dt==Pt||!("constructor"in Pe)||!("constructor"in Ue)||typeof Dt=="function"&&Dt instanceof Dt&&typeof Pt=="function"&&Pt instanceof Pt||(It=!1)}return ut.delete(Pe),ut.delete(Ue),It}(be,Ae,De,Me,Ze,Ve))}(g,I,V,ce,ft,we))}function vt(g,I,V,ce,we,be){var Ae=V&q,De=g.length,Me=I.length;if(De!=Me&&!(Ae&&Me>De))return!1;var Ze=be.get(g);if(Ze&&be.get(I))return Ze==I;var Ve=-1,Ke=!0,ye=V&S?new nt:void 0;for(be.set(g,I),be.set(I,g);++Ve<De;){var qe=g[Ve],Re=I[Ve];if(ce)var We=Ae?ce(Re,qe,Ve,I,g,be):ce(qe,Re,Ve,g,I,be);if(We!==void 0){if(We)continue;Ke=!1;break}if(ye){if(!N(I,function(pt,at){if(Be=at,!ye.has(Be)&&(qe===pt||we(qe,pt,V,ce,be)))return ye.push(at);var Be})){Ke=!1;break}}else if(qe!==Re&&!we(qe,Re,V,ce,be)){Ke=!1;break}}return be.delete(g),be.delete(I),Ke}function xt(g){return function(I,V,ce){var we=V(I);return re(I)?we:function(be,Ae){for(var De=-1,Me=Ae.length,Ze=be.length;++De<Me;)be[Ze+De]=Ae[De];return be}(we,ce(I))}(g,P,lt)}function ot(g,I){var V,ce,we=g.__data__;return((ce=typeof(V=I))=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?V!=="__proto__":V===null)?we[typeof I=="string"?"string":"hash"]:we.map}function tt(g,I){var V=function(ce,we){return ce==null?void 0:ce[we]}(g,I);return function(ce){return!(!Xe(ce)||function(we){return!!Q&&Q in we}(ce))&&(Ee(ce)?ae:he).test(c(ce))}(V)?V:void 0}ct.prototype.clear=function(){this.__data__=_e?_e(null):{},this.size=0},ct.prototype.delete=function(g){var I=this.has(g)&&delete this.__data__[g];return this.size-=I?1:0,I},ct.prototype.get=function(g){var I=this.__data__;if(_e){var V=I[g];return V===d?void 0:V}return te.call(I,g)?I[g]:void 0},ct.prototype.has=function(g){var I=this.__data__;return _e?I[g]!==void 0:te.call(I,g)},ct.prototype.set=function(g,I){var V=this.__data__;return this.size+=this.has(g)?0:1,V[g]=_e&&I===void 0?d:I,this},Ge.prototype.clear=function(){this.__data__=[],this.size=0},Ge.prototype.delete=function(g){var I=this.__data__,V=rt(I,g);return!(V<0||(V==I.length-1?I.pop():Se.call(I,V,1),--this.size,0))},Ge.prototype.get=function(g){var I=this.__data__,V=rt(I,g);return V<0?void 0:I[V][1]},Ge.prototype.has=function(g){return rt(this.__data__,g)>-1},Ge.prototype.set=function(g,I){var V=this.__data__,ce=rt(V,g);return ce<0?(++this.size,V.push([g,I])):V[ce][1]=I,this},it.prototype.clear=function(){this.size=0,this.__data__={hash:new ct,map:new(Ne||Ge),string:new ct}},it.prototype.delete=function(g){var I=ot(this,g).delete(g);return this.size-=I?1:0,I},it.prototype.get=function(g){return ot(this,g).get(g)},it.prototype.has=function(g){return ot(this,g).has(g)},it.prototype.set=function(g,I){var V=ot(this,g),ce=V.size;return V.set(g,I),this.size+=V.size==ce?0:1,this},nt.prototype.add=nt.prototype.push=function(g){return this.__data__.set(g,d),this},nt.prototype.has=function(g){return this.__data__.has(g)},Fe.prototype.clear=function(){this.__data__=new Ge,this.size=0},Fe.prototype.delete=function(g){var I=this.__data__,V=I.delete(g);return this.size=I.size,V},Fe.prototype.get=function(g){return this.__data__.get(g)},Fe.prototype.has=function(g){return this.__data__.has(g)},Fe.prototype.set=function(g,I){var V=this.__data__;if(V instanceof Ge){var ce=V.__data__;if(!Ne||ce.length<199)return ce.push([g,I]),this.size=++V.size,this;V=this.__data__=new it(ce)}return V.set(g,I),this.size=V.size,this};var lt=ve?function(g){return g==null?[]:(g=Object(g),function(I,V){for(var ce=-1,we=I==null?0:I.length,be=0,Ae=[];++ce<we;){var De=I[ce];Me=De,xe.call(g,Me)&&(Ae[be++]=De)}var Me;return Ae}(ve(g)))}:function(){return[]},$=st;function i(g,I){return!!(I=I??A)&&(typeof g=="number"||ge.test(g))&&g>-1&&g%1==0&&g<I}function c(g){if(g!=null){try{return H.call(g)}catch{}try{return g+""}catch{}}return""}function D(g,I){return g===I||g!=g&&I!=I}(Ce&&$(new Ce(new ArrayBuffer(1)))!=oe||Ne&&$(new Ne)!=L||ke&&$(ke.resolve())!=se||Ie&&$(new Ie)!=j||ze&&$(new ze)!=Z)&&($=function(g){var I=st(g),V=I==J?g.constructor:void 0,ce=V?c(V):"";if(ce)switch(ce){case yt:return oe;case kt:return L;case gt:return se;case Tt:return j;case _t:return Z}return I});var Y=At(function(){return arguments}())?At:function(g){return $e(g)&&te.call(g,"callee")&&!xe.call(g,"callee")},re=Array.isArray,me=Oe||function(){return!1};function Ee(g){if(!Xe(g))return!1;var I=st(g);return I==h||I==w||I==k||I==K}function He(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=A}function Xe(g){var I=typeof g;return g!=null&&(I=="object"||I=="function")}function $e(g){return g!=null&&typeof g=="object"}var Je=u?function(g){return function(I){return g(I)}}(u):function(g){return $e(g)&&He(g.length)&&!!ee[st(g)]};function P(g){return(I=g)!=null&&He(I.length)&&!Ee(I)?function(V,ce){var we=re(V),be=!we&&Y(V),Ae=!we&&!be&&me(V),De=!we&&!be&&!Ae&&Je(V),Me=we||be||Ae||De,Ze=Me?function(ye,qe){for(var Re=-1,We=Array(ye);++Re<ye;)We[Re]=qe(Re);return We}(V.length,String):[],Ve=Ze.length;for(var Ke in V)!te.call(V,Ke)||Me&&(Ke=="length"||Ae&&(Ke=="offset"||Ke=="parent")||De&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||i(Ke,Ve))||Ze.push(Ke);return Ze}(g):function(V){if(we=(ce=V)&&ce.constructor,ce!==(typeof we=="function"&&we.prototype||R))return Le(V);var ce,we,be=[];for(var Ae in Object(V))te.call(V,Ae)&&Ae!="constructor"&&be.push(Ae);return be}(g);var I}G.exports=function(g,I){return ft(g,I)}},1270:function(G,C,t){Object.defineProperty(C,"__esModule",{value:!0});const d=t(9629),q=t(4162);var S;(function(A){A.compose=function(M={},f={},k=!1){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});let a=d(f);k||(a=Object.keys(a).reduce((v,O)=>(a[O]!=null&&(v[O]=a[O]),v),{}));for(const v in M)M[v]!==void 0&&f[v]===void 0&&(a[v]=M[v]);return Object.keys(a).length>0?a:void 0},A.diff=function(M={},f={}){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});const k=Object.keys(M).concat(Object.keys(f)).reduce((a,v)=>(q(M[v],f[v])||(a[v]=f[v]===void 0?null:f[v]),a),{});return Object.keys(k).length>0?k:void 0},A.invert=function(M={},f={}){M=M||{};const k=Object.keys(f).reduce((a,v)=>(f[v]!==M[v]&&M[v]!==void 0&&(a[v]=f[v]),a),{});return Object.keys(M).reduce((a,v)=>(M[v]!==f[v]&&f[v]===void 0&&(a[v]=null),a),k)},A.transform=function(M,f,k=!1){if(typeof M!="object")return f;if(typeof f!="object")return;if(!k)return f;const a=Object.keys(f).reduce((v,O)=>(M[O]===void 0&&(v[O]=f[O]),v),{});return Object.keys(a).length>0?a:void 0}})(S||(S={})),C.default=S},5232:function(G,C,t){Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const d=t(5090),q=t(9629),S=t(4162),A=t(1270);C.AttributeMap=A.default;const M=t(4123);C.Op=M.default;const f=t(7033);C.OpIterator=f.default;const k="\0",a=(O,h)=>{if(typeof O!="object"||O===null)throw new Error("cannot retain a "+typeof O);if(typeof h!="object"||h===null)throw new Error("cannot retain a "+typeof h);const w=Object.keys(O)[0];if(!w||w!==Object.keys(h)[0])throw new Error(`embed types not matched: ${w} != ${Object.keys(h)[0]}`);return[w,O[w],h[w]]};class v{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,w){this.handlers[h]=w}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const w=this.handlers[h];if(!w)throw new Error(`no handlers for embed type "${h}"`);return w}insert(h,w){const L={};return typeof h=="string"&&h.length===0?this:(L.insert=h,w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(L.attributes=w),this.push(L))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,w){if(typeof h=="number"&&h<=0)return this;const L={retain:h};return w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(L.attributes=w),this.push(L)}push(h){let w=this.ops.length,L=this.ops[w-1];if(h=q(h),typeof L=="object"){if(typeof h.delete=="number"&&typeof L.delete=="number")return this.ops[w-1]={delete:L.delete+h.delete},this;if(typeof L.delete=="number"&&h.insert!=null&&(w-=1,L=this.ops[w-1],typeof L!="object"))return this.ops.unshift(h),this;if(S(h.attributes,L.attributes)){if(typeof h.insert=="string"&&typeof L.insert=="string")return this.ops[w-1]={insert:L.insert+h.insert},typeof h.attributes=="object"&&(this.ops[w-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof L.retain=="number")return this.ops[w-1]={retain:L.retain+h.retain},typeof h.attributes=="object"&&(this.ops[w-1].attributes=h.attributes),this}}return w===this.ops.length?this.ops.push(h):this.ops.splice(w,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const w=[],L=[];return this.forEach(_=>{(h(_)?w:L).push(_)}),[w,L]}reduce(h,w){return this.ops.reduce(h,w)}changeLength(){return this.reduce((h,w)=>w.insert?h+M.default.length(w):w.delete?h-w.delete:h,0)}length(){return this.reduce((h,w)=>h+M.default.length(w),0)}slice(h=0,w=1/0){const L=[],_=new f.default(this.ops);let z=0;for(;z<w&&_.hasNext();){let J;z<h?J=_.next(h-z):(J=_.next(w-z),L.push(J)),z+=M.default.length(J)}return new v(L)}compose(h){const w=new f.default(this.ops),L=new f.default(h.ops),_=[],z=L.peek();if(z!=null&&typeof z.retain=="number"&&z.attributes==null){let se=z.retain;for(;w.peekType()==="insert"&&w.peekLength()<=se;)se-=w.peekLength(),_.push(w.next());z.retain-se>0&&L.next(z.retain-se)}const J=new v(_);for(;w.hasNext()||L.hasNext();)if(L.peekType()==="insert")J.push(L.next());else if(w.peekType()==="delete")J.push(w.next());else{const se=Math.min(w.peekLength(),L.peekLength()),K=w.next(se),p=L.next(se);if(p.retain){const j={};if(typeof K.retain=="number")j.retain=typeof p.retain=="number"?se:p.retain;else if(typeof p.retain=="number")K.retain==null?j.insert=K.insert:j.retain=K.retain;else{const B=K.retain==null?"insert":"retain",[Z,ie,oe]=a(K[B],p.retain),he=v.getHandler(Z);j[B]={[Z]:he.compose(ie,oe,B==="retain")}}const W=A.default.compose(K.attributes,p.attributes,typeof K.retain=="number");if(W&&(j.attributes=W),J.push(j),!L.hasNext()&&S(J.ops[J.ops.length-1],j)){const B=new v(w.rest());return J.concat(B).chop()}}else typeof p.delete=="number"&&(typeof K.retain=="number"||typeof K.retain=="object"&&K.retain!==null)&&J.push(p)}return J.chop()}concat(h){const w=new v(this.ops.slice());return h.ops.length>0&&(w.push(h.ops[0]),w.ops=w.ops.concat(h.ops.slice(1))),w}diff(h,w){if(this.ops===h.ops)return new v;const L=[this,h].map(K=>K.map(p=>{if(p.insert!=null)return typeof p.insert=="string"?p.insert:k;throw new Error("diff() called "+(K===h?"on":"with")+" non-document")}).join("")),_=new v,z=d(L[0],L[1],w,!0),J=new f.default(this.ops),se=new f.default(h.ops);return z.forEach(K=>{let p=K[1].length;for(;p>0;){let j=0;switch(K[0]){case d.INSERT:j=Math.min(se.peekLength(),p),_.push(se.next(j));break;case d.DELETE:j=Math.min(p,J.peekLength()),J.next(j),_.delete(j);break;case d.EQUAL:j=Math.min(J.peekLength(),se.peekLength(),p);const W=J.next(j),B=se.next(j);S(W.insert,B.insert)?_.retain(j,A.default.diff(W.attributes,B.attributes)):_.push(B).delete(j)}p-=j}}),_.chop()}eachLine(h,w=`
`){const L=new f.default(this.ops);let _=new v,z=0;for(;L.hasNext();){if(L.peekType()!=="insert")return;const J=L.peek(),se=M.default.length(J)-L.peekLength(),K=typeof J.insert=="string"?J.insert.indexOf(w,se)-se:-1;if(K<0)_.push(L.next());else if(K>0)_.push(L.next(K));else{if(h(_,L.next(1).attributes||{},z)===!1)return;z+=1,_=new v}}_.length()>0&&h(_,{},z)}invert(h){const w=new v;return this.reduce((L,_)=>{if(_.insert)w.delete(M.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return w.retain(_.retain),L+_.retain;if(_.delete||typeof _.retain=="number"){const z=_.delete||_.retain;return h.slice(L,L+z).forEach(J=>{_.delete?w.push(J):_.retain&&_.attributes&&w.retain(M.default.length(J),A.default.invert(_.attributes,J.attributes))}),L+z}if(typeof _.retain=="object"&&_.retain!==null){const z=h.slice(L,L+1),J=new f.default(z.ops).next(),[se,K,p]=a(_.retain,J.insert),j=v.getHandler(se);return w.retain({[se]:j.invert(K,p)},A.default.invert(_.attributes,J.attributes)),L+1}}return L},0),w.chop()}transform(h,w=!1){if(w=!!w,typeof h=="number")return this.transformPosition(h,w);const L=h,_=new f.default(this.ops),z=new f.default(L.ops),J=new v;for(;_.hasNext()||z.hasNext();)if(_.peekType()!=="insert"||!w&&z.peekType()==="insert")if(z.peekType()==="insert")J.push(z.next());else{const se=Math.min(_.peekLength(),z.peekLength()),K=_.next(se),p=z.next(se);if(K.delete)continue;if(p.delete)J.push(p);else{const j=K.retain,W=p.retain;let B=typeof W=="object"&&W!==null?W:se;if(typeof j=="object"&&j!==null&&typeof W=="object"&&W!==null){const Z=Object.keys(j)[0];if(Z===Object.keys(W)[0]){const ie=v.getHandler(Z);ie&&(B={[Z]:ie.transform(j[Z],W[Z],w)})}}J.retain(B,A.default.transform(K.attributes,p.attributes,w))}}else J.retain(M.default.length(_.next()));return J.chop()}transformPosition(h,w=!1){w=!!w;const L=new f.default(this.ops);let _=0;for(;L.hasNext()&&_<=h;){const z=L.peekLength(),J=L.peekType();L.next(),J!=="delete"?(J==="insert"&&(_<h||!w)&&(h+=z),_+=z):h-=Math.min(z,h-_)}return h}}v.Op=M.default,v.OpIterator=f.default,v.AttributeMap=A.default,v.handlers={},C.default=v,G.exports=v,G.exports.default=v},4123:function(G,C){var t;Object.defineProperty(C,"__esModule",{value:!0}),function(d){d.length=function(q){return typeof q.delete=="number"?q.delete:typeof q.retain=="number"?q.retain:typeof q.retain=="object"&&q.retain!==null?1:typeof q.insert=="string"?q.insert.length:1}}(t||(t={})),C.default=t},7033:function(G,C,t){Object.defineProperty(C,"__esModule",{value:!0});const d=t(4123);C.default=class{constructor(q){this.ops=q,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(q){q||(q=1/0);const S=this.ops[this.index];if(S){const A=this.offset,M=d.default.length(S);if(q>=M-A?(q=M-A,this.index+=1,this.offset=0):this.offset+=q,typeof S.delete=="number")return{delete:q};{const f={};return S.attributes&&(f.attributes=S.attributes),typeof S.retain=="number"?f.retain=q:typeof S.retain=="object"&&S.retain!==null?f.retain=S.retain:typeof S.insert=="string"?f.insert=S.insert.substr(A,q):f.insert=S.insert,f}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?d.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const q=this.ops[this.index];return q?typeof q.delete=="number"?"delete":typeof q.retain=="number"||typeof q.retain=="object"&&q.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const q=this.offset,S=this.index,A=this.next(),M=this.ops.slice(this.index);return this.offset=q,this.index=S,[A].concat(M)}}return[]}}},8820:function(G,C,t){t.d(C,{A:function(){return M}});var d=t(8138),q=function(f,k){for(var a=f.length;a--;)if((0,d.A)(f[a][0],k))return a;return-1},S=Array.prototype.splice;function A(f){var k=-1,a=f==null?0:f.length;for(this.clear();++k<a;){var v=f[k];this.set(v[0],v[1])}}A.prototype.clear=function(){this.__data__=[],this.size=0},A.prototype.delete=function(f){var k=this.__data__,a=q(k,f);return!(a<0||(a==k.length-1?k.pop():S.call(k,a,1),--this.size,0))},A.prototype.get=function(f){var k=this.__data__,a=q(k,f);return a<0?void 0:k[a][1]},A.prototype.has=function(f){return q(this.__data__,f)>-1},A.prototype.set=function(f,k){var a=this.__data__,v=q(a,f);return v<0?(++this.size,a.push([f,k])):a[v][1]=k,this};var M=A},2461:function(G,C,t){var d=t(2281),q=t(5507),S=(0,d.A)(q.A,"Map");C.A=S},3558:function(G,C,t){t.d(C,{A:function(){return O}});var d=(0,t(2281).A)(Object,"create"),q=Object.prototype.hasOwnProperty,S=Object.prototype.hasOwnProperty;function A(h){var w=-1,L=h==null?0:h.length;for(this.clear();++w<L;){var _=h[w];this.set(_[0],_[1])}}A.prototype.clear=function(){this.__data__=d?d(null):{},this.size=0},A.prototype.delete=function(h){var w=this.has(h)&&delete this.__data__[h];return this.size-=w?1:0,w},A.prototype.get=function(h){var w=this.__data__;if(d){var L=w[h];return L==="__lodash_hash_undefined__"?void 0:L}return q.call(w,h)?w[h]:void 0},A.prototype.has=function(h){var w=this.__data__;return d?w[h]!==void 0:S.call(w,h)},A.prototype.set=function(h,w){var L=this.__data__;return this.size+=this.has(h)?0:1,L[h]=d&&w===void 0?"__lodash_hash_undefined__":w,this};var M=A,f=t(8820),k=t(2461),a=function(h,w){var L,_,z=h.__data__;return((_=typeof(L=w))=="string"||_=="number"||_=="symbol"||_=="boolean"?L!=="__proto__":L===null)?z[typeof w=="string"?"string":"hash"]:z.map};function v(h){var w=-1,L=h==null?0:h.length;for(this.clear();++w<L;){var _=h[w];this.set(_[0],_[1])}}v.prototype.clear=function(){this.size=0,this.__data__={hash:new M,map:new(k.A||f.A),string:new M}},v.prototype.delete=function(h){var w=a(this,h).delete(h);return this.size-=w?1:0,w},v.prototype.get=function(h){return a(this,h).get(h)},v.prototype.has=function(h){return a(this,h).has(h)},v.prototype.set=function(h,w){var L=a(this,h),_=L.size;return L.set(h,w),this.size+=L.size==_?0:1,this};var O=v},2673:function(G,C,t){t.d(C,{A:function(){return M}});var d=t(8820),q=t(2461),S=t(3558);function A(f){var k=this.__data__=new d.A(f);this.size=k.size}A.prototype.clear=function(){this.__data__=new d.A,this.size=0},A.prototype.delete=function(f){var k=this.__data__,a=k.delete(f);return this.size=k.size,a},A.prototype.get=function(f){return this.__data__.get(f)},A.prototype.has=function(f){return this.__data__.has(f)},A.prototype.set=function(f,k){var a=this.__data__;if(a instanceof d.A){var v=a.__data__;if(!q.A||v.length<199)return v.push([f,k]),this.size=++a.size,this;a=this.__data__=new S.A(v)}return a.set(f,k),this.size=a.size,this};var M=A},439:function(G,C,t){var d=t(5507).A.Symbol;C.A=d},7218:function(G,C,t){var d=t(5507).A.Uint8Array;C.A=d},6753:function(G,C,t){t.d(C,{A:function(){return k}});var d=t(8412),q=t(723),S=t(776),A=t(3767),M=t(5755),f=Object.prototype.hasOwnProperty,k=function(a,v){var O=(0,q.A)(a),h=!O&&(0,d.A)(a),w=!O&&!h&&(0,S.A)(a),L=!O&&!h&&!w&&(0,M.A)(a),_=O||h||w||L,z=_?function(K,p){for(var j=-1,W=Array(K);++j<K;)W[j]=p(j);return W}(a.length,String):[],J=z.length;for(var se in a)!v&&!f.call(a,se)||_&&(se=="length"||w&&(se=="offset"||se=="parent")||L&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||(0,A.A)(se,J))||z.push(se);return z}},802:function(G,C){C.A=function(t,d){for(var q=-1,S=d.length,A=t.length;++q<S;)t[A+q]=d[q];return t}},6437:function(G,C,t){var d=t(6770),q=t(8138),S=Object.prototype.hasOwnProperty;C.A=function(A,M,f){var k=A[M];S.call(A,M)&&(0,q.A)(k,f)&&(f!==void 0||M in A)||(0,d.A)(A,M,f)}},6770:function(G,C,t){var d=t(7889);C.A=function(q,S,A){S=="__proto__"&&d.A?(0,d.A)(q,S,{configurable:!0,enumerable:!0,value:A,writable:!0}):q[S]=A}},1381:function(G,C,t){var d=t(802),q=t(723);C.A=function(S,A,M){var f=A(S);return(0,q.A)(S)?f:(0,d.A)(f,M(S))}},2159:function(G,C,t){t.d(C,{A:function(){return a}});var d=t(439),q=Object.prototype,S=q.hasOwnProperty,A=q.toString,M=d.A?d.A.toStringTag:void 0,f=Object.prototype.toString,k=d.A?d.A.toStringTag:void 0,a=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":k&&k in Object(v)?function(O){var h=S.call(O,M),w=O[M];try{O[M]=void 0;var L=!0}catch{}var _=A.call(O);return L&&(h?O[M]=w:delete O[M]),_}(v):function(O){return f.call(O)}(v)}},5771:function(G,C){C.A=function(t){return function(d){return t(d)}}},2899:function(G,C,t){var d=t(7218);C.A=function(q){var S=new q.constructor(q.byteLength);return new d.A(S).set(new d.A(q)),S}},3812:function(G,C,t){var d=t(5507),q=Ye&&!Ye.nodeType&&Ye,S=q&&!0&&Qe&&!Qe.nodeType&&Qe,A=S&&S.exports===q?d.A.Buffer:void 0,M=A?A.allocUnsafe:void 0;C.A=function(f,k){if(k)return f.slice();var a=f.length,v=M?M(a):new f.constructor(a);return f.copy(v),v}},1827:function(G,C,t){var d=t(2899);C.A=function(q,S){var A=S?(0,d.A)(q.buffer):q.buffer;return new q.constructor(A,q.byteOffset,q.length)}},4405:function(G,C){C.A=function(t,d){var q=-1,S=t.length;for(d||(d=Array(S));++q<S;)d[q]=t[q];return d}},9601:function(G,C,t){var d=t(6437),q=t(6770);C.A=function(S,A,M,f){var k=!M;M||(M={});for(var a=-1,v=A.length;++a<v;){var O=A[a],h=f?f(M[O],S[O],O,M,S):void 0;h===void 0&&(h=S[O]),k?(0,q.A)(M,O,h):(0,d.A)(M,O,h)}return M}},7889:function(G,C,t){var d=t(2281),q=function(){try{var S=(0,d.A)(Object,"defineProperty");return S({},"",{}),S}catch{}}();C.A=q},9646:function(G,C){var t=typeof zt=="object"&&zt&&zt.Object===Object&&zt;C.A=t},2816:function(G,C,t){var d=t(1381),q=t(9844),S=t(3169);C.A=function(A){return(0,d.A)(A,S.A,q.A)}},2281:function(G,C,t){t.d(C,{A:function(){return _}});var d,q=t(7572),S=t(5507).A["__core-js_shared__"],A=(d=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",M=t(659),f=t(1543),k=/^\[object .+?Constructor\]$/,a=Function.prototype,v=Object.prototype,O=a.toString,h=v.hasOwnProperty,w=RegExp("^"+O.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=function(z){return!(!(0,M.A)(z)||(J=z,A&&A in J))&&((0,q.A)(z)?w:k).test((0,f.A)(z));var J},_=function(z,J){var se=function(K,p){return K==null?void 0:K[p]}(z,J);return L(se)?se:void 0}},8769:function(G,C,t){var d=(0,t(2217).A)(Object.getPrototypeOf,Object);C.A=d},9844:function(G,C,t){t.d(C,{A:function(){return A}});var d=t(6935),q=Object.prototype.propertyIsEnumerable,S=Object.getOwnPropertySymbols,A=S?function(M){return M==null?[]:(M=Object(M),function(f,k){for(var a=-1,v=f==null?0:f.length,O=0,h=[];++a<v;){var w=f[a];k(w,a,f)&&(h[O++]=w)}return h}(S(M),function(f){return q.call(M,f)}))}:d.A},7995:function(G,C,t){t.d(C,{A:function(){return W}});var d=t(2281),q=t(5507),S=(0,d.A)(q.A,"DataView"),A=t(2461),M=(0,d.A)(q.A,"Promise"),f=(0,d.A)(q.A,"Set"),k=(0,d.A)(q.A,"WeakMap"),a=t(2159),v=t(1543),O="[object Map]",h="[object Promise]",w="[object Set]",L="[object WeakMap]",_="[object DataView]",z=(0,v.A)(S),J=(0,v.A)(A.A),se=(0,v.A)(M),K=(0,v.A)(f),p=(0,v.A)(k),j=a.A;(S&&j(new S(new ArrayBuffer(1)))!=_||A.A&&j(new A.A)!=O||M&&j(M.resolve())!=h||f&&j(new f)!=w||k&&j(new k)!=L)&&(j=function(B){var Z=(0,a.A)(B),ie=Z=="[object Object]"?B.constructor:void 0,oe=ie?(0,v.A)(ie):"";if(oe)switch(oe){case z:return _;case J:return O;case se:return h;case K:return w;case p:return L}return Z});var W=j},1683:function(G,C,t){t.d(C,{A:function(){return f}});var d=t(659),q=Object.create,S=function(){function k(){}return function(a){if(!(0,d.A)(a))return{};if(q)return q(a);k.prototype=a;var v=new k;return k.prototype=void 0,v}}(),A=t(8769),M=t(501),f=function(k){return typeof k.constructor!="function"||(0,M.A)(k)?{}:S((0,A.A)(k))}},3767:function(G,C){var t=/^(?:0|[1-9]\d*)$/;C.A=function(d,q){var S=typeof d;return!!(q=q??9007199254740991)&&(S=="number"||S!="symbol"&&t.test(d))&&d>-1&&d%1==0&&d<q}},501:function(G,C){var t=Object.prototype;C.A=function(d){var q=d&&d.constructor;return d===(typeof q=="function"&&q.prototype||t)}},8795:function(G,C,t){var d=t(9646),q=Ye&&!Ye.nodeType&&Ye,S=q&&!0&&Qe&&!Qe.nodeType&&Qe,A=S&&S.exports===q&&d.A.process,M=function(){try{return S&&S.require&&S.require("util").types||A&&A.binding&&A.binding("util")}catch{}}();C.A=M},2217:function(G,C){C.A=function(t,d){return function(q){return t(d(q))}}},5507:function(G,C,t){var d=t(9646),q=typeof self=="object"&&self&&self.Object===Object&&self,S=d.A||q||Function("return this")();C.A=S},1543:function(G,C){var t=Function.prototype.toString;C.A=function(d){if(d!=null){try{return t.call(d)}catch{}try{return d+""}catch{}}return""}},3707:function(G,C,t){t.d(C,{A:function(){return s}});var d=t(2673),q=t(6437);t(9601),t(3169),t(2624);var S=t(3812);t(4405);var A=t(9844),M=t(802),f=t(8769),k=t(6935);Object.getOwnPropertySymbols||k.A;var a=t(2816);t(1381);var v=t(7995),O=Object.prototype.hasOwnProperty,h=t(2899),w=/\w*$/,L=t(439),_=L.A?L.A.prototype:void 0,z=_?_.valueOf:void 0,J=t(1827),se=function(x,l,u){var N,T,U,m=x.constructor;switch(l){case"[object ArrayBuffer]":return(0,h.A)(x);case"[object Boolean]":case"[object Date]":return new m(+x);case"[object DataView]":return function(r,o){var E=(0,h.A)(r.buffer);return new r.constructor(E,r.byteOffset,r.byteLength)}(x);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,J.A)(x,u);case"[object Map]":case"[object Set]":return new m;case"[object Number]":case"[object String]":return new m(x);case"[object RegExp]":return(U=new(T=x).constructor(T.source,w.exec(T))).lastIndex=T.lastIndex,U;case"[object Symbol]":return N=x,z?Object(z.call(N)):{}}},K=t(1683),p=t(723),j=t(776),W=t(7948),B=t(5771),Z=t(8795),ie=Z.A&&Z.A.isMap,oe=ie?(0,B.A)(ie):function(x){return(0,W.A)(x)&&(0,v.A)(x)=="[object Map]"},he=t(659),ge=Z.A&&Z.A.isSet,ee=ge?(0,B.A)(ge):function(x){return(0,W.A)(x)&&(0,v.A)(x)=="[object Set]"},X="[object Arguments]",le="[object Function]",y="[object Object]",e={};e[X]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object DataView]"]=e["[object Boolean]"]=e["[object Date]"]=e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Map]"]=e["[object Number]"]=e[y]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object Symbol]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e["[object Error]"]=e[le]=e["[object WeakMap]"]=!1;var n=function x(l,u,N,T,U,m){var r,o=1&u;if(r!==void 0)return r;if(!(0,he.A)(l))return l;var E=(0,p.A)(l);if(E)r=function(Q){var ne=Q.length,ae=new Q.constructor(ne);return ne&&typeof Q[0]=="string"&&O.call(Q,"index")&&(ae.index=Q.index,ae.input=Q.input),ae}(l);else{var b=(0,v.A)(l),R=b==le||b=="[object GeneratorFunction]";if((0,j.A)(l))return(0,S.A)(l,o);if(b==y||b==X||R&&!U)r=R?{}:(0,K.A)(l);else{if(!e[b])return U?l:{};r=se(l,b,o)}}m||(m=new d.A);var F=m.get(l);if(F)return F;m.set(l,r),ee(l)?l.forEach(function(Q){r.add(x(Q,u,N,Q,l,m))}):oe(l)&&l.forEach(function(Q,ne){r.set(ne,x(Q,u,N,ne,l,m))});var H=a.A,te=E?void 0:H(l);return function(Q,ne){for(var ae=-1,ue=Q==null?0:Q.length;++ae<ue&&ne(Q[ae],ae,Q)!==!1;);}(te||l,function(Q,ne){te&&(Q=l[ne=Q]),(0,q.A)(r,ne,x(Q,u,N,ne,l,m))}),r},s=function(x){return n(x,5)}},8138:function(G,C){C.A=function(t,d){return t===d||t!=t&&d!=d}},8412:function(G,C,t){t.d(C,{A:function(){return a}});var d=t(2159),q=t(7948),S=function(v){return(0,q.A)(v)&&(0,d.A)(v)=="[object Arguments]"},A=Object.prototype,M=A.hasOwnProperty,f=A.propertyIsEnumerable,k=S(function(){return arguments}())?S:function(v){return(0,q.A)(v)&&M.call(v,"callee")&&!f.call(v,"callee")},a=k},723:function(G,C){var t=Array.isArray;C.A=t},3628:function(G,C,t){var d=t(7572),q=t(1628);C.A=function(S){return S!=null&&(0,q.A)(S.length)&&!(0,d.A)(S)}},776:function(G,C,t){t.d(C,{A:function(){return M}});var d=t(5507),q=Ye&&!Ye.nodeType&&Ye,S=q&&!0&&Qe&&!Qe.nodeType&&Qe,A=S&&S.exports===q?d.A.Buffer:void 0,M=(A?A.isBuffer:void 0)||function(){return!1}},5123:function(G,C,t){t.d(C,{A:function(){return ge}});var d=t(2673),q=t(3558);function S(ee){var X=-1,le=ee==null?0:ee.length;for(this.__data__=new q.A;++X<le;)this.add(ee[X])}S.prototype.add=S.prototype.push=function(ee){return this.__data__.set(ee,"__lodash_hash_undefined__"),this},S.prototype.has=function(ee){return this.__data__.has(ee)};var A=S,M=function(ee,X){for(var le=-1,y=ee==null?0:ee.length;++le<y;)if(X(ee[le],le,ee))return!0;return!1},f=function(ee,X,le,y,e,n){var s=1&le,x=ee.length,l=X.length;if(x!=l&&!(s&&l>x))return!1;var u=n.get(ee),N=n.get(X);if(u&&N)return u==X&&N==ee;var T=-1,U=!0,m=2&le?new A:void 0;for(n.set(ee,X),n.set(X,ee);++T<x;){var r=ee[T],o=X[T];if(y)var E=s?y(o,r,T,X,ee,n):y(r,o,T,ee,X,n);if(E!==void 0){if(E)continue;U=!1;break}if(m){if(!M(X,function(b,R){if(F=R,!m.has(F)&&(r===b||e(r,b,le,y,n)))return m.push(R);var F})){U=!1;break}}else if(r!==o&&!e(r,o,le,y,n)){U=!1;break}}return n.delete(ee),n.delete(X),U},k=t(439),a=t(7218),v=t(8138),O=function(ee){var X=-1,le=Array(ee.size);return ee.forEach(function(y,e){le[++X]=[e,y]}),le},h=function(ee){var X=-1,le=Array(ee.size);return ee.forEach(function(y){le[++X]=y}),le},w=k.A?k.A.prototype:void 0,L=w?w.valueOf:void 0,_=t(2816),z=Object.prototype.hasOwnProperty,J=t(7995),se=t(723),K=t(776),p=t(5755),j="[object Arguments]",W="[object Array]",B="[object Object]",Z=Object.prototype.hasOwnProperty,ie=function(ee,X,le,y,e,n){var s=(0,se.A)(ee),x=(0,se.A)(X),l=s?W:(0,J.A)(ee),u=x?W:(0,J.A)(X),N=(l=l==j?B:l)==B,T=(u=u==j?B:u)==B,U=l==u;if(U&&(0,K.A)(ee)){if(!(0,K.A)(X))return!1;s=!0,N=!1}if(U&&!N)return n||(n=new d.A),s||(0,p.A)(ee)?f(ee,X,le,y,e,n):function(b,R,F,H,te,Q,ne){switch(F){case"[object DataView]":if(b.byteLength!=R.byteLength||b.byteOffset!=R.byteOffset)return!1;b=b.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=R.byteLength||!Q(new a.A(b),new a.A(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,v.A)(+b,+R);case"[object Error]":return b.name==R.name&&b.message==R.message;case"[object RegExp]":case"[object String]":return b==R+"";case"[object Map]":var ae=O;case"[object Set]":var ue=1&H;if(ae||(ae=h),b.size!=R.size&&!ue)return!1;var de=ne.get(b);if(de)return de==R;H|=2,ne.set(b,R);var pe=f(ae(b),ae(R),H,te,Q,ne);return ne.delete(b),pe;case"[object Symbol]":if(L)return L.call(b)==L.call(R)}return!1}(ee,X,l,le,y,e,n);if(!(1&le)){var m=N&&Z.call(ee,"__wrapped__"),r=T&&Z.call(X,"__wrapped__");if(m||r){var o=m?ee.value():ee,E=r?X.value():X;return n||(n=new d.A),e(o,E,le,y,n)}}return!!U&&(n||(n=new d.A),function(b,R,F,H,te,Q){var ne=1&F,ae=(0,_.A)(b),ue=ae.length;if(ue!=(0,_.A)(R).length&&!ne)return!1;for(var de=ue;de--;){var pe=ae[de];if(!(ne?pe in R:z.call(R,pe)))return!1}var xe=Q.get(b),Se=Q.get(R);if(xe&&Se)return xe==R&&Se==b;var je=!0;Q.set(b,R),Q.set(R,b);for(var ve=ne;++de<ue;){var Oe=b[pe=ae[de]],Le=R[pe];if(H)var Ce=ne?H(Le,Oe,pe,R,b,Q):H(Oe,Le,pe,b,R,Q);if(!(Ce===void 0?Oe===Le||te(Oe,Le,F,H,Q):Ce)){je=!1;break}ve||(ve=pe=="constructor")}if(je&&!ve){var Ne=b.constructor,ke=R.constructor;Ne==ke||!("constructor"in b)||!("constructor"in R)||typeof Ne=="function"&&Ne instanceof Ne&&typeof ke=="function"&&ke instanceof ke||(je=!1)}return Q.delete(b),Q.delete(R),je}(ee,X,le,y,e,n))},oe=t(7948),he=function ee(X,le,y,e,n){return X===le||(X==null||le==null||!(0,oe.A)(X)&&!(0,oe.A)(le)?X!=X&&le!=le:ie(X,le,y,e,ee,n))},ge=function(ee,X){return he(ee,X)}},7572:function(G,C,t){var d=t(2159),q=t(659);C.A=function(S){if(!(0,q.A)(S))return!1;var A=(0,d.A)(S);return A=="[object Function]"||A=="[object GeneratorFunction]"||A=="[object AsyncFunction]"||A=="[object Proxy]"}},1628:function(G,C){C.A=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},659:function(G,C){C.A=function(t){var d=typeof t;return t!=null&&(d=="object"||d=="function")}},7948:function(G,C){C.A=function(t){return t!=null&&typeof t=="object"}},5755:function(G,C,t){t.d(C,{A:function(){return a}});var d=t(2159),q=t(1628),S=t(7948),A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A["[object Function]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var M=t(5771),f=t(8795),k=f.A&&f.A.isTypedArray,a=k?(0,M.A)(k):function(v){return(0,S.A)(v)&&(0,q.A)(v.length)&&!!A[(0,d.A)(v)]}},3169:function(G,C,t){t.d(C,{A:function(){return f}});var d=t(6753),q=t(501),S=(0,t(2217).A)(Object.keys,Object),A=Object.prototype.hasOwnProperty,M=t(3628),f=function(k){return(0,M.A)(k)?(0,d.A)(k):function(a){if(!(0,q.A)(a))return S(a);var v=[];for(var O in Object(a))A.call(a,O)&&O!="constructor"&&v.push(O);return v}(k)}},2624:function(G,C,t){t.d(C,{A:function(){return k}});var d=t(6753),q=t(659),S=t(501),A=Object.prototype.hasOwnProperty,M=function(a){if(!(0,q.A)(a))return function(w){var L=[];if(w!=null)for(var _ in Object(w))L.push(_);return L}(a);var v=(0,S.A)(a),O=[];for(var h in a)(h!="constructor"||!v&&A.call(a,h))&&O.push(h);return O},f=t(3628),k=function(a){return(0,f.A)(a)?(0,d.A)(a,!0):M(a)}},8347:function(G,C,t){t.d(C,{A:function(){return r}});var d,q,S,A,M=t(2673),f=t(6770),k=t(8138),a=function(o,E,b){(b!==void 0&&!(0,k.A)(o[E],b)||b===void 0&&!(E in o))&&(0,f.A)(o,E,b)},v=function(o,E,b){for(var R=-1,F=Object(o),H=b(o),te=H.length;te--;){var Q=H[++R];if(E(F[Q],Q,F)===!1)break}return o},O=t(3812),h=t(1827),w=t(4405),L=t(1683),_=t(8412),z=t(723),J=t(3628),se=t(7948),K=t(776),p=t(7572),j=t(659),W=t(2159),B=t(8769),Z=Function.prototype,ie=Object.prototype,oe=Z.toString,he=ie.hasOwnProperty,ge=oe.call(Object),ee=t(5755),X=function(o,E){if((E!=="constructor"||typeof o[E]!="function")&&E!="__proto__")return o[E]},le=t(9601),y=t(2624),e=function(o,E,b,R,F,H,te){var Q,ne=X(o,b),ae=X(E,b),ue=te.get(ae);if(ue)a(o,b,ue);else{var de=void 0,pe=de===void 0;if(pe){var xe=(0,z.A)(ae),Se=!xe&&(0,K.A)(ae),je=!xe&&!Se&&(0,ee.A)(ae);de=ae,xe||Se||je?(0,z.A)(ne)?de=ne:(Q=ne,(0,se.A)(Q)&&(0,J.A)(Q)?de=(0,w.A)(ne):Se?(pe=!1,de=(0,O.A)(ae,!0)):je?(pe=!1,de=(0,h.A)(ae,!0)):de=[]):function(ve){if(!(0,se.A)(ve)||(0,W.A)(ve)!="[object Object]")return!1;var Oe=(0,B.A)(ve);if(Oe===null)return!0;var Le=he.call(Oe,"constructor")&&Oe.constructor;return typeof Le=="function"&&Le instanceof Le&&oe.call(Le)==ge}(ae)||(0,_.A)(ae)?(de=ne,(0,_.A)(ne)?de=function(ve){return(0,le.A)(ve,(0,y.A)(ve))}(ne):(0,j.A)(ne)&&!(0,p.A)(ne)||(de=(0,L.A)(ae))):pe=!1}pe&&(te.set(ae,de),F(de,ae,R,H,te),te.delete(ae)),a(o,b,de)}},n=function o(E,b,R,F,H){E!==b&&v(b,function(te,Q){if(H||(H=new M.A),(0,j.A)(te))e(E,b,Q,R,o,F,H);else{var ne=void 0;ne===void 0&&(ne=te),a(E,Q,ne)}},y.A)},s=function(o){return o},x=Math.max,l=t(7889),u=l.A?function(o,E){return(0,l.A)(o,"toString",{configurable:!0,enumerable:!1,value:(b=E,function(){return b}),writable:!0});var b}:s,N=Date.now,T=(d=u,q=0,S=0,function(){var o=N(),E=16-(o-S);if(S=o,E>0){if(++q>=800)return arguments[0]}else q=0;return d.apply(void 0,arguments)}),U=function(o,E){return T(function(b,R,F){return R=x(R===void 0?b.length-1:R,0),function(){for(var H=arguments,te=-1,Q=x(H.length-R,0),ne=Array(Q);++te<Q;)ne[te]=H[R+te];te=-1;for(var ae=Array(R+1);++te<R;)ae[te]=H[te];return ae[R]=F(ne),function(ue,de,pe){switch(pe.length){case 0:return ue.call(de);case 1:return ue.call(de,pe[0]);case 2:return ue.call(de,pe[0],pe[1]);case 3:return ue.call(de,pe[0],pe[1],pe[2])}return ue.apply(de,pe)}(b,this,ae)}}(o,E,s),o+"")},m=t(3767),r=(A=function(o,E,b){n(o,E,b)},U(function(o,E){var b=-1,R=E.length,F=R>1?E[R-1]:void 0,H=R>2?E[2]:void 0;for(F=A.length>3&&typeof F=="function"?(R--,F):void 0,H&&function(Q,ne,ae){if(!(0,j.A)(ae))return!1;var ue=typeof ne;return!!(ue=="number"?(0,J.A)(ae)&&(0,m.A)(ne,ae.length):ue=="string"&&ne in ae)&&(0,k.A)(ae[ne],Q)}(E[0],E[1],H)&&(F=R<3?void 0:F,R=1),o=Object(o);++b<R;){var te=E[b];te&&A(o,te,b)}return o}))},6935:function(G,C){C.A=function(){return[]}},6003:function(G,C,t){t.r(C),t.d(C,{Attributor:function(){return q},AttributorStore:function(){return O},BlockBlot:function(){return B},ClassAttributor:function(){return k},ContainerBlot:function(){return ie},EmbedBlot:function(){return oe},InlineBlot:function(){return j},LeafBlot:function(){return _},ParentBlot:function(){return K},Registry:function(){return M},Scope:function(){return d},ScrollBlot:function(){return ee},StyleAttributor:function(){return v},TextBlot:function(){return le}});var d=(y=>(y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY",y))(d||{});class q{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const x=d.TYPE&d.ATTRIBUTE;this.scope=s.scope!=null?s.scope&d.LEVEL|x:d.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return!!this.canAdd(e,n)&&(e.setAttribute(this.keyName,n),!0)}canAdd(e,n){return this.whitelist==null||(typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class S extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const A=class Vt{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const x=this.query(n);if(x==null)throw new S(`Unable to create ${n} blot`);const l=x,u=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:l.create(s),N=new l(e,u,s);return Vt.blots.set(N.domNode,N),N}find(e,n=!1){return Vt.find(e,n)}query(e,n=d.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&d.LEVEL&d.BLOCK?s=this.types.block:e&d.LEVEL&d.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(x=>(s=this.classes[x],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&d.LEVEL&s.scope&&n&d.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,x="attrName"in n;if(!s&&!x)throw new S("Invalid definition");if(s&&n.blotName==="abstract")throw new S("Cannot register abstract class");const l=s?n.blotName:x?n.attrName:void 0;return this.types[l]=n,x?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(u=>u.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(u=>{(this.tags[u]==null||n.className==null)&&(this.tags[u]=n)}))),n})}};A.blots=new WeakMap;let M=A;function f(y,e){return(y.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}const k=class extends q{static keys(y){return(y.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(y,e){return!!this.canAdd(y,e)&&(this.remove(y),y.classList.add(`${this.keyName}-${e}`),!0)}remove(y){f(y,this.keyName).forEach(e=>{y.classList.remove(e)}),y.classList.length===0&&y.removeAttribute("class")}value(y){const e=(f(y,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(y,e)?e:""}};function a(y){const e=y.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}const v=class extends q{static keys(y){return(y.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(y,e){return!!this.canAdd(y,e)&&(y.style[a(this.keyName)]=e,!0)}remove(y){y.style[a(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")}value(y){const e=y.style[a(this.keyName)];return this.canAdd(y,e)?e:""}},O=class{constructor(y){this.attributes={},this.domNode=y,this.build()}attribute(y,e){e?y.add(this.domNode,e)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])}build(){this.attributes={};const y=M.find(this.domNode);if(y==null)return;const e=q.keys(this.domNode),n=k.keys(this.domNode),s=v.keys(this.domNode);e.concat(n).concat(s).forEach(x=>{const l=y.scroll.query(x,d.ATTRIBUTE);l instanceof q&&(this.attributes[l.attrName]=l)})}copy(y){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);y.format(e,n)})}move(y){this.copy(y),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((y,e)=>(y[e]=this.attributes[e].value(this.domNode),y),{})}},h=class{constructor(y,e){this.scroll=y,this.domNode=e,M.blots.set(e,this),this.prev=null,this.next=null}static create(y){if(this.tagName==null)throw new S("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof y=="string"?(n=y.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof y=="number"&&(n=y),e=typeof n=="number"?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const y=this.domNode.cloneNode(!1);return this.scroll.create(y)}detach(){this.parent!=null&&this.parent.removeChild(this),M.blots.delete(this.domNode)}deleteAt(y,e){this.isolate(y,e).remove()}formatAt(y,e,n,s){const x=this.isolate(y,e);if(this.scroll.query(n,d.BLOT)!=null&&s)x.wrap(n,s);else if(this.scroll.query(n,d.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);x.wrap(l),l.format(n,s)}}insertAt(y,e,n){const s=n==null?this.scroll.create("text",e):this.scroll.create(e,n),x=this.split(y);this.parent.insertBefore(s,x||void 0)}isolate(y,e){const n=this.split(y);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(y=this.parent){return this.parent==null||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)}optimize(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(y,e){const n=typeof y=="string"?this.scroll.create(y,e):y;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(y,e){return y===0?this:this.next}update(y,e){}wrap(y,e){const n=typeof y=="string"?this.scroll.create(y,e):y;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new S(`Cannot wrap ${y}`);return n.appendChild(this),n}};h.blotName="abstract";let w=h;const L=class extends w{static value(y){return!0}index(y,e){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(y,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return y>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};L.scope=d.INLINE_BLOT;const _=L;class z{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),x=0;for(;s;){if(s===e)return x;x+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let x=s();for(;x;){const l=x.length();if(e<l||n&&e===l&&(x.next==null||x.next.length()!==0))return[x,e];e-=l,x=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[x,l]=this.find(e);let u=e-l;const N=this.iterator(x);let T=N();for(;T&&u<e+n;){const U=T.length();e>u?s(T,e-u,Math.min(n,u+U-e)):s(T,0,Math.min(U,e+n-u)),u+=U,T=N()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let x=s();for(;x;)n=e(n,x),x=s();return n}}function J(y,e){const n=e.find(y);if(n)return n;try{return e.create(y)}catch{const s=e.create(d.INLINE);return Array.from(y.childNodes).forEach(x=>{s.domNode.appendChild(x)}),y.parentNode&&y.parentNode.replaceChild(s.domNode,y),s.attach(),s}}const se=class wt extends w{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,wt.uiClass&&this.uiNode.classList.add(wt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new z,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=J(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof S)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,x,l)=>{s.deleteAt(x,l)})}descendant(e,n=0){const[s,x]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,x]:s instanceof wt?s.descendant(e,x):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let x=[],l=s;return this.children.forEachAt(n,s,(u,N,T)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&x.push(u),u instanceof wt&&(x=x.concat(u.descendants(e,N,l))),l-=T}),x}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===d.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof wt?n.unwrap():n.remove())})}formatAt(e,n,s,x){this.children.forEachAt(e,n,(l,u,N)=>{l.formatAt(u,N,s,x)})}insertAt(e,n,s){const[x,l]=this.children.find(e);if(x)x.insertAt(l,n,s);else{const u=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(u)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,x]=this.children.find(e,n),l=[[this,e]];return s instanceof wt?l.concat(s.path(x,n)):(s!=null&&l.push([s,x]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof wt&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(x,l,u)=>{const N=x.split(l,n);N!=null&&s.appendChild(N)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],x=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(s.push(...l.addedNodes),x.push(...l.removedNodes))}),x.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),s.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const N=J(l,this.scroll);(N.next!==u||N.next==null)&&(N.parent!=null&&N.parent.removeChild(this),this.insertBefore(N,u||void 0))}),this.enforceAllowedChildren()}};se.uiClass="";const K=se,p=class Ot extends K{static create(e){return super.create(e)}static formats(e,n){const s=n.query(Ot.blotName);if(s==null||e.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new O(this.domNode)}format(e,n){if(e!==this.statics.blotName||n){const s=this.scroll.query(e,d.INLINE);if(s==null)return;s instanceof q?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}else this.children.forEach(s=>{s instanceof Ot||(s=s.wrap(Ot.blotName,!0)),this.attributes.copy(s)}),this.unwrap()}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,x){this.formats()[s]!=null||this.scroll.query(s,d.ATTRIBUTE)?this.isolate(e,n).format(s,x):super.formatAt(e,n,s,x)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof Ot&&s.prev===this&&function(x,l){if(Object.keys(x).length!==Object.keys(l).length)return!1;for(const u in x)if(x[u]!==l[u])return!1;return!0}(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof Ot&&this.attributes.move(s),s}};p.allowedChildren=[p,_],p.blotName="inline",p.scope=d.INLINE_BLOT,p.tagName="SPAN";const j=p,W=class Kt extends K{static create(e){return super.create(e)}static formats(e,n){const s=n.query(Kt.blotName);if(s==null||e.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new O(this.domNode)}format(e,n){const s=this.scroll.query(e,d.BLOCK);s!=null&&(s instanceof q?this.attributes.attribute(s,n):e!==this.statics.blotName||n?n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n):this.replaceWith(Kt.blotName))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,x){this.scroll.query(s,d.BLOCK)!=null?this.format(s,x):super.formatAt(e,n,s,x)}insertAt(e,n,s){if(s==null||this.scroll.query(n,d.INLINE)!=null)super.insertAt(e,n,s);else{const x=this.split(e);if(x==null)throw new Error("Attempt to insertAt after block boundaries");{const l=this.scroll.create(n,s);x.parent.insertBefore(l,x)}}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};W.blotName="block",W.scope=d.BLOCK_BLOT,W.tagName="P",W.allowedChildren=[j,W,_];const B=W,Z=class extends K{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(y,e){super.deleteAt(y,e),this.enforceAllowedChildren()}formatAt(y,e,n,s){super.formatAt(y,e,n,s),this.enforceAllowedChildren()}insertAt(y,e,n){super.insertAt(y,e,n),this.enforceAllowedChildren()}optimize(y){super.optimize(y),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Z.blotName="container",Z.scope=d.BLOCK_BLOT;const ie=Z,oe=class extends _{static formats(y,e){}format(y,e){super.formatAt(0,this.length(),y,e)}formatAt(y,e,n,s){y===0&&e===this.length()?this.format(n,s):super.formatAt(y,e,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}},he={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ge=class extends K{constructor(y,e){super(null,e),this.registry=y,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,he),this.attach()}create(y,e){return this.registry.create(this,y,e)}find(y,e=!1){const n=this.registry.find(y,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(y,e=d.ANY){return this.registry.query(y,e)}register(...y){return this.registry.register(...y)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(y,e){this.update(),y===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(y,e)}formatAt(y,e,n,s){this.update(),super.formatAt(y,e,n,s)}insertAt(y,e,n){this.update(),super.insertAt(y,e,n)}optimize(y=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)y.push(s.pop());const x=(N,T=!0)=>{N==null||N===this||N.domNode.parentNode!=null&&(n.has(N.domNode)||n.set(N.domNode,[]),T&&x(N.parent))},l=N=>{n.has(N.domNode)&&(N instanceof K&&N.children.forEach(l),n.delete(N.domNode),N.optimize(e))};let u=y;for(let N=0;u.length>0;N+=1){if(N>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(T=>{const U=this.find(T.target,!0);U!=null&&(U.domNode===T.target&&(T.type==="childList"?(x(this.find(T.previousSibling,!1)),Array.from(T.addedNodes).forEach(m=>{const r=this.find(m,!1);x(r,!1),r instanceof K&&r.children.forEach(o=>{x(o,!1)})})):T.type==="attributes"&&x(U.prev)),x(U))}),this.children.forEach(l),u=Array.from(this.observer.takeRecords()),s=u.slice();s.length>0;)y.push(s.pop())}}update(y,e={}){y=y||this.observer.takeRecords();const n=new WeakMap;y.map(s=>{const x=this.find(s.target,!0);return x==null?null:n.has(x.domNode)?(n.get(x.domNode).push(s),null):(n.set(x.domNode,[s]),x)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(y,e)}};ge.blotName="scroll",ge.defaultChild=B,ge.allowedChildren=[B,ie],ge.scope=d.BLOCK_BLOT,ge.tagName="DIV";const ee=ge,X=class Qt extends _{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Qt&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};X.blotName="text",X.scope=d.INLINE_BLOT;const le=X}},Rt={};function Te(G){var C=Rt[G];if(C!==void 0)return C.exports;var t=Rt[G]={id:G,loaded:!1,exports:{}};return qt[G](t,t.exports,Te),t.loaded=!0,t.exports}Te.n=function(G){var C=G&&G.__esModule?function(){return G.default}:function(){return G};return Te.d(C,{a:C}),C},Te.d=function(G,C){for(var t in C)Te.o(C,t)&&!Te.o(G,t)&&Object.defineProperty(G,t,{enumerable:!0,get:C[t]})},Te.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Te.o=function(G,C){return Object.prototype.hasOwnProperty.call(G,C)},Te.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Te.nmd=function(G){return G.paths=[],G.children||(G.children=[]),G};var Wt={};return function(){var tt,lt;Te.d(Wt,{default:function(){return xt}});var G=Te(3729),C=Te(8276),t=Te(7912),d=Te(6003);class q extends d.ClassAttributor{add(i,c){let D=0;if(c==="+1"||c==="-1"){const Y=this.value(i)||0;D=c==="+1"?Y+1:Y-1}else typeof c=="number"&&(D=c);return D===0?(this.remove(i),!0):super.add(i,D.toString())}canAdd(i,c){return super.canAdd(i,c)||super.canAdd(i,parseInt(c,10))}value(i){return parseInt(super.value(i),10)||void 0}}var S=new q("indent","ql-indent",{scope:d.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),A=Te(9698);class M extends A.Ay{}fe(M,"blotName","blockquote"),fe(M,"tagName","blockquote");var f=M;class k extends A.Ay{static formats(i){return this.tagName.indexOf(i.tagName)+1}}fe(k,"blotName","header"),fe(k,"tagName",["H1","H2","H3","H4","H5","H6"]);var a=k,v=Te(580),O=Te(6142);class h extends v.A{}h.blotName="list-container",h.tagName="OL";class w extends A.Ay{static create(i){const c=super.create();return c.setAttribute("data-list",i),c}static formats(i){return i.getAttribute("data-list")||void 0}static register(){O.Ay.register(h)}constructor(i,c){super(i,c);const D=c.ownerDocument.createElement("span"),Y=re=>{if(!i.isEnabled())return;const me=this.statics.formats(c,i);me==="checked"?(this.format("list","unchecked"),re.preventDefault()):me==="unchecked"&&(this.format("list","checked"),re.preventDefault())};D.addEventListener("mousedown",Y),D.addEventListener("touchstart",Y),this.attachUI(D)}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("data-list",c):super.format(i,c)}}w.blotName="list",w.tagName="LI",h.allowedChildren=[w],w.requiredContainer=h;var L=Te(9541),_=Te(8638),z=Te(6772),J=Te(664),se=Te(4850);class K extends se.A{static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}fe(K,"blotName","bold"),fe(K,"tagName",["STRONG","B"]);var p=K;class j extends se.A{static create(i){const c=super.create(i);return c.setAttribute("href",this.sanitize(i)),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}static formats(i){return i.getAttribute("href")}static sanitize(i){return W(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("href",this.constructor.sanitize(c)):super.format(i,c)}}fe(j,"blotName","link"),fe(j,"tagName","A"),fe(j,"SANITIZED_URL","about:blank"),fe(j,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function W($,i){const c=document.createElement("a");c.href=$;const D=c.href.slice(0,c.href.indexOf(":"));return i.indexOf(D)>-1}class B extends se.A{static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}}fe(B,"blotName","script"),fe(B,"tagName",["SUB","SUP"]);var Z=B;class ie extends se.A{}fe(ie,"blotName","underline"),fe(ie,"tagName","U");var oe=ie,he=Te(746);class ge extends he.A{static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const c=super.create(i);return typeof i=="string"&&(window.katex.render(i,c,{throwOnError:!1,errorColor:"#f00"}),c.setAttribute("data-value",i)),c}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}}fe(ge,"blotName","formula"),fe(ge,"className","ql-formula"),fe(ge,"tagName","SPAN");var ee=ge;const X=["alt","height","width"];class le extends d.EmbedBlot{static create(i){const c=super.create(i);return typeof i=="string"&&c.setAttribute("src",this.sanitize(i)),c}static formats(i){return X.reduce((c,D)=>(i.hasAttribute(D)&&(c[D]=i.getAttribute(D)),c),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return W(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,c){X.indexOf(i)>-1?c?this.domNode.setAttribute(i,c):this.domNode.removeAttribute(i):super.format(i,c)}}fe(le,"blotName","image"),fe(le,"tagName","IMG");var y=le;const e=["height","width"];class n extends A.zo{static create(i){const c=super.create(i);return c.setAttribute("frameborder","0"),c.setAttribute("allowfullscreen","true"),c.setAttribute("src",this.sanitize(i)),c}static formats(i){return e.reduce((c,D)=>(i.hasAttribute(D)&&(c[D]=i.getAttribute(D)),c),{})}static sanitize(i){return j.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,c){e.indexOf(i)>-1?c?this.domNode.setAttribute(i,c):this.domNode.removeAttribute(i):super.format(i,c)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}}fe(n,"blotName","video"),fe(n,"className","ql-video"),fe(n,"tagName","IFRAME");var s=n,x=Te(9404),l=Te(5232),u=Te.n(l),N=Te(4266),T=Te(3036),U=Te(4541),m=Te(5508),r=Te(584);const o=new d.ClassAttributor("code-token","hljs",{scope:d.Scope.INLINE});class E extends se.A{static formats(i,c){for(;i!=null&&i!==c.domNode;){if(i.classList&&i.classList.contains(x.Ay.className))return super.formats(i,c);i=i.parentNode}}constructor(i,c,D){super(i,c,D),o.add(this.domNode,D)}format(i,c){i!==E.blotName?super.format(i,c):c?o.add(this.domNode,c):(o.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),o.value(this.domNode)||this.unwrap()}}E.blotName="code-token",E.className="ql-token";class b extends x.Ay{static create(i){const c=super.create(i);return typeof i=="string"&&c.setAttribute("data-language",i),c}static formats(i){return i.getAttribute("data-language")||"plain"}static register(){}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("data-language",c):super.format(i,c)}replaceWith(i,c){return this.formatAt(0,this.length(),E.blotName,!1),super.replaceWith(i,c)}}class R extends x.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(i,c){i===b.blotName&&(this.forceNext=!0,this.children.forEach(D=>{D.format(i,c)}))}formatAt(i,c,D,Y){D===b.blotName&&(this.forceNext=!0),super.formatAt(i,c,D,Y)}highlight(i){let c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const D=`${Array.from(this.domNode.childNodes).filter(re=>re!==this.uiNode).map(re=>re.textContent).join(`
`)}
`,Y=b.formats(this.children.head.domNode);if(c||this.forceNext||this.cachedText!==D){if(D.trim().length>0||this.cachedText==null){const re=this.children.reduce((Ee,He)=>Ee.concat((0,A.mG)(He,!1)),new(u())),me=i(D,Y);re.diff(me).reduce((Ee,He)=>{let{retain:Xe,attributes:$e}=He;return Xe?($e&&Object.keys($e).forEach(Je=>{[b.blotName,E.blotName].includes(Je)&&this.formatAt(Ee,Xe,Je,$e[Je])}),Ee+Xe):Ee},0)}this.cachedText=D,this.forceNext=!1}}html(i,c){const[D]=this.children.find(i);return`<pre data-language="${D?b.formats(D.domNode):"plain"}">
${(0,m.X)(this.code(i,c))}
</pre>`}optimize(i){if(super.optimize(i),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const c=b.formats(this.children.head.domNode);c!==this.uiNode.value&&(this.uiNode.value=c)}}}R.allowedChildren=[b],b.requiredContainer=R,b.allowedChildren=[E,U.A,m.A,T.A];class F extends N.A{static register(){O.Ay.register(E,!0),O.Ay.register(b,!0),O.Ay.register(R,!0)}constructor(i,c){if(super(i,c),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((D,Y)=>{let{key:re}=Y;return D[re]=!0,D},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(O.Ay.events.SCROLL_BLOT_MOUNT,i=>{if(!(i instanceof R))return;const c=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(D=>{let{key:Y,label:re}=D;const me=c.ownerDocument.createElement("option");me.textContent=re,me.setAttribute("value",Y),c.appendChild(me)}),c.addEventListener("change",()=>{i.format(b.blotName,c.value),this.quill.root.focus(),this.highlight(i,!0)}),i.uiNode==null&&(i.attachUI(c),i.children.head&&(c.value=b.formats(i.children.head.domNode)))})}initTimer(){let i=null;this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,()=>{i&&clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)})}highlight(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(O.Ay.sources.USER);const D=this.quill.getSelection();(i==null?this.quill.scroll.descendants(R):[i]).forEach(Y=>{Y.highlight(this.highlightBlot,c)}),this.quill.update(O.Ay.sources.SILENT),D!=null&&this.quill.setSelection(D,O.Ay.sources.SILENT)}highlightBlot(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(c=this.languages[c]?c:"plain",c==="plain")return(0,m.X)(i).split(`
`).reduce((Y,re,me)=>(me!==0&&Y.insert(`
`,{[x.Ay.blotName]:c}),Y.insert(re)),new(u()));const D=this.quill.root.ownerDocument.createElement("div");return D.classList.add(x.Ay.className),D.innerHTML=((Y,re,me)=>{if(typeof Y.versionString=="string"){const Ee=Y.versionString.split(".")[0];if(parseInt(Ee,10)>=11)return Y.highlight(me,{language:re}).value}return Y.highlight(re,me).value})(this.options.hljs,c,i),(0,r.hV)(this.quill.scroll,D,[(Y,re)=>{const me=o.value(Y);return me?re.compose(new(u())().retain(re.length(),{[E.blotName]:me})):re}],[(Y,re)=>Y.data.split(`
`).reduce((me,Ee,He)=>(He!==0&&me.insert(`
`,{[x.Ay.blotName]:c}),me.insert(Ee)),re)],new WeakMap)}}F.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ot=class ot extends A.Ay{static create(i){const c=super.create();return i?c.setAttribute("data-row",i):c.setAttribute("data-row",ae()),c}static formats(i){if(i.hasAttribute("data-row"))return i.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(i,c){i===ot.blotName&&c?this.domNode.setAttribute("data-row",c):super.format(i,c)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};fe(ot,"blotName","table"),fe(ot,"tagName","TD");let H=ot;class te extends v.A{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const i=this.children.head.formats(),c=this.children.tail.formats(),D=this.next.children.head.formats(),Y=this.next.children.tail.formats();return i.table===c.table&&i.table===D.table&&i.table===Y.table}return!1}optimize(i){super.optimize(i),this.children.forEach(c=>{if(c.next==null)return;const D=c.formats(),Y=c.next.formats();if(D.table!==Y.table){const re=this.splitAfter(c);re&&re.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}fe(te,"blotName","table-row"),fe(te,"tagName","TR");class Q extends v.A{}fe(Q,"blotName","table-body"),fe(Q,"tagName","TBODY");class ne extends v.A{balanceCells(){const i=this.descendants(te),c=i.reduce((D,Y)=>Math.max(Y.children.length,D),0);i.forEach(D=>{new Array(c-D.children.length).fill(0).forEach(()=>{let Y;D.children.head!=null&&(Y=H.formats(D.children.head.domNode));const re=this.scroll.create(H.blotName,Y);D.appendChild(re),re.optimize()})})}cells(i){return this.rows().map(c=>c.children.at(i))}deleteColumn(i){const[c]=this.descendant(Q);c!=null&&c.children.head!=null&&c.children.forEach(D=>{const Y=D.children.at(i);Y!=null&&Y.remove()})}insertColumn(i){const[c]=this.descendant(Q);c!=null&&c.children.head!=null&&c.children.forEach(D=>{const Y=D.children.at(i),re=H.formats(D.children.head.domNode),me=this.scroll.create(H.blotName,re);D.insertBefore(me,Y)})}insertRow(i){const[c]=this.descendant(Q);if(c==null||c.children.head==null)return;const D=ae(),Y=this.scroll.create(te.blotName);c.children.head.children.forEach(()=>{const me=this.scroll.create(H.blotName,D);Y.appendChild(me)});const re=c.children.at(i);c.insertBefore(Y,re)}rows(){const i=this.children.head;return i==null?[]:i.children.map(c=>c)}}fe(ne,"blotName","table-container"),fe(ne,"tagName","TABLE");function ae(){return`row-${Math.random().toString(36).slice(2,6)}`}ne.allowedChildren=[Q],Q.requiredContainer=ne,Q.allowedChildren=[te],te.requiredContainer=Q,te.allowedChildren=[H],H.requiredContainer=te;class ue extends N.A{static register(){O.Ay.register(H),O.Ay.register(te),O.Ay.register(Q),O.Ay.register(ne)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ne).forEach(i=>{i.balanceCells()})}deleteColumn(){const[i,,c]=this.getTable();c!=null&&(i.deleteColumn(c.cellOffset()),this.quill.update(O.Ay.sources.USER))}deleteRow(){const[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(O.Ay.sources.USER))}deleteTable(){const[i]=this.getTable();if(i==null)return;const c=i.offset();i.remove(),this.quill.update(O.Ay.sources.USER),this.quill.setSelection(c,O.Ay.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];const[c,D]=this.quill.getLine(i.index);if(c==null||c.statics.blotName!==H.blotName)return[null,null,null,-1];const Y=c.parent;return[Y.parent.parent,Y,c,D]}insertColumn(i){const c=this.quill.getSelection();if(!c)return;const[D,Y,re]=this.getTable(c);if(re==null)return;const me=re.cellOffset();D.insertColumn(me+i),this.quill.update(O.Ay.sources.USER);let Ee=Y.rowOffset();i===0&&(Ee+=1),this.quill.setSelection(c.index+Ee,c.length,O.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const c=this.quill.getSelection();if(!c)return;const[D,Y,re]=this.getTable(c);if(re==null)return;const me=Y.rowOffset();D.insertRow(me+i),this.quill.update(O.Ay.sources.USER),i>0?this.quill.setSelection(c,O.Ay.sources.SILENT):this.quill.setSelection(c.index+Y.children.length,c.length,O.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,c){const D=this.quill.getSelection();if(D==null)return;const Y=new Array(i).fill(0).reduce(re=>{const me=new Array(c).fill(`
`).join("");return re.insert(me,{table:ae()})},new(u())().retain(D.index));this.quill.updateContents(Y,O.Ay.sources.USER),this.quill.setSelection(D.index,O.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,i=>{i.some(c=>!!["TD","TR","TBODY","TABLE"].includes(c.target.tagName)&&(this.quill.once(O.Ay.events.TEXT_CHANGE,(D,Y,re)=>{re===O.Ay.sources.USER&&this.balanceTables()}),!0))})}}var de=ue;const pe=(0,Te(6078).A)("quill:toolbar");class xe extends N.A{constructor(i,c){var D,Y;if(super(i,c),Array.isArray(this.options.container)){const re=document.createElement("div");re.setAttribute("role","toolbar"),function(me,Ee){Array.isArray(Ee[0])||(Ee=[Ee]),Ee.forEach(He=>{const Xe=document.createElement("span");Xe.classList.add("ql-formats"),He.forEach($e=>{if(typeof $e=="string")Se(Xe,$e);else{const Je=Object.keys($e)[0],P=$e[Je];Array.isArray(P)?function(g,I,V){const ce=document.createElement("select");ce.classList.add(`ql-${I}`),V.forEach(we=>{const be=document.createElement("option");we!==!1?be.setAttribute("value",String(we)):be.setAttribute("selected","selected"),ce.appendChild(be)}),g.appendChild(ce)}(Xe,Je,P):Se(Xe,Je,P)}}),me.appendChild(Xe)})}(re,this.options.container),(Y=(D=i.container)==null?void 0:D.parentNode)==null||Y.insertBefore(re,i.container),this.container=re}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(re=>{var Ee;const me=(Ee=this.options.handlers)==null?void 0:Ee[re];me&&this.addHandler(re,me)}),Array.from(this.container.querySelectorAll("button, select")).forEach(re=>{this.attach(re)}),this.quill.on(O.Ay.events.EDITOR_CHANGE,()=>{const[re]=this.quill.selection.getRange();this.update(re)})):pe.error("Container required for toolbar",this.options)}addHandler(i,c){this.handlers[i]=c}attach(i){let c=Array.from(i.classList).find(Y=>Y.indexOf("ql-")===0);if(!c)return;if(c=c.slice(3),i.tagName==="BUTTON"&&i.setAttribute("type","button"),this.handlers[c]==null&&this.quill.scroll.query(c)==null)return void pe.warn("ignoring attaching to nonexistent format",c,i);const D=i.tagName==="SELECT"?"change":"click";i.addEventListener(D,Y=>{let re;if(i.tagName==="SELECT"){if(i.selectedIndex<0)return;const Ee=i.options[i.selectedIndex];re=!Ee.hasAttribute("selected")&&(Ee.value||!1)}else re=!i.classList.contains("ql-active")&&(i.value||!i.hasAttribute("value")),Y.preventDefault();this.quill.focus();const[me]=this.quill.selection.getRange();if(this.handlers[c]!=null)this.handlers[c].call(this,re);else if(this.quill.scroll.query(c).prototype instanceof d.EmbedBlot){if(re=prompt(`Enter ${c}`),!re)return;this.quill.updateContents(new(u())().retain(me.index).delete(me.length).insert({[c]:re}),O.Ay.sources.USER)}else this.quill.format(c,re,O.Ay.sources.USER);this.update(me)}),this.controls.push([c,i])}update(i){const c=i==null?{}:this.quill.getFormat(i);this.controls.forEach(D=>{const[Y,re]=D;if(re.tagName==="SELECT"){let me=null;if(i==null)me=null;else if(c[Y]==null)me=re.querySelector("option[selected]");else if(!Array.isArray(c[Y])){let Ee=c[Y];typeof Ee=="string"&&(Ee=Ee.replace(/"/g,'\\"')),me=re.querySelector(`option[value="${Ee}"]`)}me==null?(re.value="",re.selectedIndex=-1):me.selected=!0}else if(i==null)re.classList.remove("ql-active"),re.setAttribute("aria-pressed","false");else if(re.hasAttribute("value")){const me=c[Y],Ee=me===re.getAttribute("value")||me!=null&&me.toString()===re.getAttribute("value")||me==null&&!re.getAttribute("value");re.classList.toggle("ql-active",Ee),re.setAttribute("aria-pressed",Ee.toString())}else{const me=c[Y]!=null;re.classList.toggle("ql-active",me),re.setAttribute("aria-pressed",me.toString())}})}}function Se($,i,c){const D=document.createElement("button");D.setAttribute("type","button"),D.classList.add(`ql-${i}`),D.setAttribute("aria-pressed","false"),c!=null?(D.value=c,D.setAttribute("aria-label",`${i}: ${c}`)):D.setAttribute("aria-label",i),$.appendChild(D)}xe.DEFAULTS={},xe.DEFAULTS={container:null,handlers:{clean(){const $=this.quill.getSelection();if($!=null)if($.length===0){const i=this.quill.getFormat();Object.keys(i).forEach(c=>{this.quill.scroll.query(c,d.Scope.INLINE)!=null&&this.quill.format(c,!1,O.Ay.sources.USER)})}else this.quill.removeFormat($.index,$.length,O.Ay.sources.USER)},direction($){const{align:i}=this.quill.getFormat();$==="rtl"&&i==null?this.quill.format("align","right",O.Ay.sources.USER):$||i!=="right"||this.quill.format("align",!1,O.Ay.sources.USER),this.quill.format("direction",$,O.Ay.sources.USER)},indent($){const i=this.quill.getSelection(),c=this.quill.getFormat(i),D=parseInt(c.indent||0,10);if($==="+1"||$==="-1"){let Y=$==="+1"?1:-1;c.direction==="rtl"&&(Y*=-1),this.quill.format("indent",D+Y,O.Ay.sources.USER)}},link($){$===!0&&($=prompt("Enter link URL:")),this.quill.format("link",$,O.Ay.sources.USER)},list($){const i=this.quill.getSelection(),c=this.quill.getFormat(i);$==="check"?c.list==="checked"||c.list==="unchecked"?this.quill.format("list",!1,O.Ay.sources.USER):this.quill.format("list","unchecked",O.Ay.sources.USER):this.quill.format("list",$,O.Ay.sources.USER)}}};const je='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var ve={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:je,"code-block":je,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Oe=0;function Le($,i){$.setAttribute(i,`${$.getAttribute(i)!=="true"}`)}var Ce=class{constructor($){this.select=$,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),i.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Le(this.label,"aria-expanded"),Le(this.options,"aria-hidden")}buildItem($){const i=document.createElement("span");i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item");const c=$.getAttribute("value");return c&&i.setAttribute("data-value",c),$.textContent&&i.setAttribute("data-label",$.textContent),i.addEventListener("click",()=>{this.selectItem(i,!0)}),i.addEventListener("keydown",D=>{switch(D.key){case"Enter":this.selectItem(i,!0),D.preventDefault();break;case"Escape":this.escape(),D.preventDefault()}}),i}buildLabel(){const $=document.createElement("span");return $.classList.add("ql-picker-label"),$.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',$.tabIndex="0",$.setAttribute("role","button"),$.setAttribute("aria-expanded","false"),this.container.appendChild($),$}buildOptions(){const $=document.createElement("span");$.classList.add("ql-picker-options"),$.setAttribute("aria-hidden","true"),$.tabIndex="-1",$.id=`ql-picker-options-${Oe}`,Oe+=1,this.label.setAttribute("aria-controls",$.id),this.options=$,Array.from(this.select.options).forEach(i=>{const c=this.buildItem(i);$.appendChild(c),i.selected===!0&&this.selectItem(c)}),this.container.appendChild($)}buildPicker(){Array.from(this.select.attributes).forEach($=>{this.container.setAttribute($.name,$.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem($){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const c=this.container.querySelector(".ql-selected");$!==c&&(c!=null&&c.classList.remove("ql-selected"),$!=null&&($.classList.add("ql-selected"),this.select.selectedIndex=Array.from($.parentNode.children).indexOf($),$.hasAttribute("data-value")?this.label.setAttribute("data-value",$.getAttribute("data-value")):this.label.removeAttribute("data-value"),$.hasAttribute("data-label")?this.label.setAttribute("data-label",$.getAttribute("data-label")):this.label.removeAttribute("data-label"),i&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let $;if(this.select.selectedIndex>-1){const c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];$=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);const i=$!=null&&$!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}},Ne=class extends Ce{constructor($,i){super($),this.label.innerHTML=i,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(c=>{c.classList.add("ql-primary")})}buildItem($){const i=super.buildItem($);return i.style.backgroundColor=$.getAttribute("value")||"",i}selectItem($,i){super.selectItem($,i);const c=this.label.querySelector(".ql-color-label"),D=$&&$.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=D:c.style.fill=D)}},ke=class extends Ce{constructor($,i){super($),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(c=>{c.innerHTML=i[c.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem($,i){super.selectItem($,i);const c=$||this.defaultItem;if(c!=null){if(this.label.innerHTML===c.innerHTML)return;this.label.innerHTML=c.innerHTML}}},Ie=class{constructor($,i){this.quill=$,this.boundsContainer=i||document.body,this.root=$.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(c=>{const{overflowY:D}=getComputedStyle(c,null);return D!=="visible"&&D!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position($){const i=$.left+$.width/2-this.root.offsetWidth/2,c=$.bottom+this.quill.root.scrollTop;this.root.style.left=`${i}px`,this.root.style.top=`${c}px`,this.root.classList.remove("ql-flip");const D=this.boundsContainer.getBoundingClientRect(),Y=this.root.getBoundingClientRect();let re=0;if(Y.right>D.right&&(re=D.right-Y.right,this.root.style.left=`${i+re}px`),Y.left<D.left&&(re=D.left-Y.left,this.root.style.left=`${i+re}px`),Y.bottom>D.bottom){const me=Y.bottom-Y.top,Ee=$.bottom-$.top+me;this.root.style.top=c-Ee+"px",this.root.classList.add("ql-flip")}return re}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},ze=Te(8347),_e=Te(5374),yt=Te(9609);const kt=[!1,"center","right","justify"],gt=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Tt=[!1,"serif","monospace"],_t=["1","2","3",!1],St=["small",!1,"large","huge"];class ht extends yt.A{constructor(i,c){super(i,c);const D=Y=>{document.body.contains(i.root)?(this.tooltip==null||this.tooltip.root.contains(Y.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(re=>{re.container.contains(Y.target)||re.close()})):document.body.removeEventListener("click",D)};i.emitter.listenDOM("click",document.body,D)}addModule(i){const c=super.addModule(i);return i==="toolbar"&&this.extendToolbar(c),c}buildButtons(i,c){Array.from(i).forEach(D=>{(D.getAttribute("class")||"").split(/\s+/).forEach(Y=>{if(Y.startsWith("ql-")&&(Y=Y.slice(3),c[Y]!=null))if(Y==="direction")D.innerHTML=c[Y][""]+c[Y].rtl;else if(typeof c[Y]=="string")D.innerHTML=c[Y];else{const re=D.value||"";re!=null&&c[Y][re]&&(D.innerHTML=c[Y][re])}})})}buildPickers(i,c){this.pickers=Array.from(i).map(D=>{if(D.classList.contains("ql-align")&&(D.querySelector("option")==null&&Ge(D,kt),typeof c.align=="object"))return new ke(D,c.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){const Y=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&Ge(D,gt,Y==="background"?"#ffffff":"#000000"),new Ne(D,c[Y])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?Ge(D,Tt):D.classList.contains("ql-header")?Ge(D,_t):D.classList.contains("ql-size")&&Ge(D,St)),new Ce(D)}),this.quill.on(_e.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(D=>{D.update()})})}}ht.DEFAULTS=(0,ze.A)({},yt.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let $=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),$.classList.add("ql-image"),$.addEventListener("change",()=>{const i=this.quill.getSelection(!0);this.quill.uploader.upload(i,$.files),$.value=""}),this.container.appendChild($)),$.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ct extends Ie{constructor(i,c){super(i,c),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",i=>{i.key==="Enter"?(this.save(),i.preventDefault()):i.key==="Escape"&&(this.cancel(),i.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;c!=null?this.textbox.value=c:i!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const D=this.quill.getBounds(this.quill.selection.savedRange);D!=null&&this.position(D),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${i}`)||""),this.root.setAttribute("data-mode",i)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:i}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:c}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,_e.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,_e.A.sources.USER)),this.quill.root.scrollTop=c;break}case"video":i=function(c){let D=c.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||c.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?`${D[1]||"https"}://www.youtube.com/embed/${D[2]}?showinfo=0`:(D=c.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${D[1]||"https"}://player.vimeo.com/video/${D[2]}/`:c}(i);case"formula":{if(!i)break;const c=this.quill.getSelection(!0);if(c!=null){const D=c.index+c.length;this.quill.insertEmbed(D,this.root.getAttribute("data-mode"),i,_e.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(D+1," ",_e.A.sources.USER),this.quill.setSelection(D+2,_e.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ge($,i){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.forEach(D=>{const Y=document.createElement("option");D===c?Y.setAttribute("selected","selected"):Y.setAttribute("value",String(D)),$.appendChild(Y)})}var it=Te(8298);const nt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Fe extends ct{constructor(i,c){super(i,c),this.quill.on(_e.A.events.EDITOR_CHANGE,(D,Y,re,me)=>{if(D===_e.A.events.SELECTION_CHANGE)if(Y!=null&&Y.length>0&&me===_e.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Ee=this.quill.getLines(Y.index,Y.length);if(Ee.length===1){const He=this.quill.getBounds(Y);He!=null&&this.position(He)}else{const He=Ee[Ee.length-1],Xe=this.quill.getIndex(He),$e=Math.min(He.length()-1,Y.index+Y.length-Xe),Je=this.quill.getBounds(new it.Q(Xe,$e));Je!=null&&this.position(Je)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(_e.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const i=this.quill.getSelection();if(i!=null){const c=this.quill.getBounds(i);c!=null&&this.position(c)}},1)})}cancel(){this.show()}position(i){const c=super.position(i),D=this.root.querySelector(".ql-tooltip-arrow");return D.style.marginLeft="",c!==0&&(D.style.marginLeft=-1*c-D.offsetWidth/2+"px"),c}}fe(Fe,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class rt extends ht{constructor(i,c){c.modules.toolbar!=null&&c.modules.toolbar.container==null&&(c.modules.toolbar.container=nt),super(i,c),this.quill.container.classList.add("ql-bubble")}extendToolbar(i){this.tooltip=new Fe(this.quill,this.options.bounds),i.container!=null&&(this.tooltip.root.appendChild(i.container),this.buildButtons(i.container.querySelectorAll("button"),ve),this.buildPickers(i.container.querySelectorAll("select"),ve))}}rt.DEFAULTS=(0,ze.A)({},ht.DEFAULTS,{modules:{toolbar:{handlers:{link($){$?this.quill.theme.tooltip.edit():this.quill.format("link",!1,O.Ay.sources.USER)}}}}});const st=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class At extends ct{constructor(){super(...arguments);fe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",c=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),c.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",c=>{if(this.linkRange!=null){const D=this.linkRange;this.restoreFocus(),this.quill.formatText(D,"link",!1,_e.A.sources.USER),delete this.linkRange}c.preventDefault(),this.hide()}),this.quill.on(_e.A.events.SELECTION_CHANGE,(c,D,Y)=>{if(c!=null){if(c.length===0&&Y===_e.A.sources.USER){const[re,me]=this.quill.scroll.descendant(j,c.index);if(re!=null){this.linkRange=new it.Q(c.index-me,re.length());const Ee=j.formats(re.domNode);this.preview.textContent=Ee,this.preview.setAttribute("href",Ee),this.show();const He=this.quill.getBounds(this.linkRange);return void(He!=null&&this.position(He))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}fe(At,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class ft extends ht{constructor(i,c){c.modules.toolbar!=null&&c.modules.toolbar.container==null&&(c.modules.toolbar.container=st),super(i,c),this.quill.container.classList.add("ql-snow")}extendToolbar(i){i.container!=null&&(i.container.classList.add("ql-snow"),this.buildButtons(i.container.querySelectorAll("button"),ve),this.buildPickers(i.container.querySelectorAll("select"),ve),this.tooltip=new At(this.quill,this.options.bounds),i.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(c,D)=>{i.handlers.link.call(i,!D.format.link)}))}}ft.DEFAULTS=(0,ze.A)({},ht.DEFAULTS,{modules:{toolbar:{handlers:{link($){if($){const i=this.quill.getSelection();if(i==null||i.length===0)return;let c=this.quill.getText(i);/^\S+@\S+\.\S+$/.test(c)&&c.indexOf("mailto:")!==0&&(c=`mailto:${c}`);const{tooltip:D}=this.quill.theme;D.edit("link",c)}else this.quill.format("link",!1,O.Ay.sources.USER)}}}}});var vt=ft;G.default.register({"attributors/attribute/direction":t.Mc,"attributors/class/align":C.qh,"attributors/class/background":L.l,"attributors/class/color":_.g3,"attributors/class/direction":t.sY,"attributors/class/font":z.q,"attributors/class/size":J.U,"attributors/style/align":C.Hu,"attributors/style/background":L.s,"attributors/style/color":_.JM,"attributors/style/direction":t.VL,"attributors/style/font":z.z,"attributors/style/size":J.r},!0),G.default.register({"formats/align":C.qh,"formats/direction":t.sY,"formats/indent":S,"formats/background":L.s,"formats/color":_.JM,"formats/font":z.q,"formats/size":J.U,"formats/blockquote":f,"formats/code-block":x.Ay,"formats/header":a,"formats/list":w,"formats/bold":p,"formats/code":x.Cy,"formats/italic":(tt=class extends p{},fe(tt,"blotName","italic"),fe(tt,"tagName",["EM","I"]),tt),"formats/link":j,"formats/script":Z,"formats/strike":(lt=class extends p{},fe(lt,"blotName","strike"),fe(lt,"tagName",["S","STRIKE"]),lt),"formats/underline":oe,"formats/formula":ee,"formats/image":y,"formats/video":s,"modules/syntax":F,"modules/table":de,"modules/toolbar":xe,"themes/bubble":rt,"themes/snow":vt,"ui/icons":ve,"ui/picker":Ce,"ui/icon-picker":ke,"ui/color-picker":Ne,"ui/tooltip":Ie},!0);var xt=G.default}(),Wt.default}()})}(Ct,Ct.exports)),Ct.exports}var nn=tn();const rn=en(nn);try{window.Quill=rn}catch{}
